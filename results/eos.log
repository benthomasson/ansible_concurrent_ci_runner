ansible-playbook 2.4.0 (devel 3a3bdde869) last updated 2017/07/25 11:24:04 (GMT -400)
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/Users/dnewswan/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /Users/dnewswan/code/ansible/lib/ansible
  executable location = /Users/dnewswan/code/ansible/bin/ansible-playbook
  python version = 2.7.13 (default, Apr  4 2017, 08:47:57) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.38)]
Using /etc/ansible/ansible.cfg as config file
setting up inventory plugins
Parsed /Users/dnewswan/code/ansible/test/integration/inventory.network inventory source with ini plugin
[DEPRECATION WARNING]: The use of 'include' for tasks has been deprecated. Use 
'import_tasks' for static inclusions or 'include_tasks' for dynamic inclusions.

This feature will be removed in a future release. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_banner/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_banner/tasks/eapi.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_command/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_command/tasks/eapi.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/eapi.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_template/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_template/tasks/eapi.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/eapi.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/eapi.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_user/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tasks/cli.yaml
statically imported: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tasks/cli.yaml
Loading callback plugin default of type stdout, v2.0 from /Users/dnewswan/code/ansible/lib/ansible/plugins/callback/__init__.pyc
Loading callback plugin test_plug of type notification, v2.0 from /Users/dnewswan/code/ansible/lib/ansible/plugins/callback/__init__.pyc

PLAYBOOK: eos.yaml *************************************************************
1 plays in /Users/dnewswan/code/ansible/test/integration/eos.yaml

PLAY [eos] *********************************************************************
META: ran handlers

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:15
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [], 
        "test_failed": false
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: 
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "unable to open shell. Please see: https://docs.ansible.com/ansible/network_debug_troubleshooting.html#unable-to-open-shell"
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:23
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: 
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "unable to open shell. Please see: https://docs.ansible.com/ansible/network_debug_troubleshooting.html#unable-to-open-shell"
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:31
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner", 
            "eos_command"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/netcfg.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982 `" && echo ansible-tmp-1501029061.88-21888738825982="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp8l9qUn TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029061.88-21888738825982/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029063", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503 `" && echo ansible-tmp-1501029070.8-151894444453503="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpw2mGwE TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029070.8-151894444453503/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029072", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_config : collect all cli test cases] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/cli.yaml:2
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947 `" && echo ansible-tmp-1501029075.67-49291876177947="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpQzd2sg TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029075.67-49291876177947/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 14, 
    "failed": false, 
    "files": [
        {
            "atime": 1501026731.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601734, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1033, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026731.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601735, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1038, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026731.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601736, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 778, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026731.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601737, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 585, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601738, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 819, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796702, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 443, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601739, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 874, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796704, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 751, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796705, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1631, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796706, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1812, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796707, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1818, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796708, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 689, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026732.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796709, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 932, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501026733.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796710, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 936, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 14, 
    "msg": ""
}

TASK [eos_config : set test_items] *********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_config : run test case] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml for veos01

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:2
ok: [veos01] => {
    "msg": "START cli/backup.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479 `" && echo ansible-tmp-1501029083.31-275191374409479="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpjLTRAI TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029083.31-275191374409479/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029084-session-config\n@@ -56,7 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029084", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : collect any backup files] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:14
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<localhost> EXEC /bin/sh -c 'echo ~ && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497 `" && echo ansible-tmp-1501029087.6-40269993592497="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497 `" ) && sleep 0'
<localhost> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpXXcp4G TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497/find.py
<localhost> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497/find.py && sleep 0'
<localhost> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029087.6-40269993592497/" > /dev/null 2>&1 && sleep 0'
ok: [veos01 -> localhost] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027179.0, 
            "ctime": 1501027097.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2648867, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1501027097.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2513, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup"
            ], 
            "pattern": "veos01_config*", 
            "patterns": [
                "veos01_config*"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_config : delete backup files] ****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:21
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/file.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283 `" && echo ansible-tmp-1501029089.3-6496430397283="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpuftHxQ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283/file.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283/file.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283/file.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029089.3-6496430397283/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => (item={u'uid': 501, u'woth': False, u'mtime': 1501027097.0, u'inode': 2648867, u'isgid': False, u'size': 2513, u'roth': True, u'isuid': False, u'isreg': True, u'gid': 20, u'ischr': False, u'wusr': True, u'xoth': False, u'rusr': True, u'nlink': 1, u'issock': False, u'rgrp': True, u'path': u'/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17', u'xusr': False, u'atime': 1501027179.0, u'isdir': False, u'ctime': 1501027097.0, u'wgrp': False, u'xgrp': False, u'dev': 16777220, u'isblk': False, u'isfifo': False, u'mode': u'0644', u'islnk': False}) => {
    "changed": true, 
    "diff": {
        "after": {
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17", 
            "state": "absent"
        }, 
        "before": {
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17", 
            "state": "file"
        }
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": null, 
            "owner": null, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": null, 
            "state": "absent", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "item": {
        "atime": 1501027179.0, 
        "ctime": 1501027097.0, 
        "dev": 16777220, 
        "gid": 20, 
        "inode": 2648867, 
        "isblk": false, 
        "ischr": false, 
        "isdir": false, 
        "isfifo": false, 
        "isgid": false, 
        "islnk": false, 
        "isreg": true, 
        "issock": false, 
        "isuid": false, 
        "mode": "0644", 
        "mtime": 1501027097.0, 
        "nlink": 1, 
        "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17", 
        "rgrp": true, 
        "roth": true, 
        "rusr": true, 
        "size": 2513, 
        "uid": 501, 
        "wgrp": false, 
        "woth": false, 
        "wusr": true, 
        "xgrp": false, 
        "xoth": false, 
        "xusr": false
    }, 
    "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@19:58:17", 
    "state": "absent"
}

TASK [eos_config : configure device with config] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:27
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561 `" && echo ansible-tmp-1501029096.13-150080963075561="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpTbzmTj TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029096.13-150080963075561/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "backup_path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029097-session-config\n@@ -56,6 +56,8 @@\n    no switchport\n !\n interface Ethernet2\n+   description this is a test\n+   shutdown\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": true, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029097", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:34
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : collect any backup files] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:39
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<localhost> EXEC /bin/sh -c 'echo ~ && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519 `" && echo ansible-tmp-1501029100.8-58314205900519="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519 `" ) && sleep 0'
<localhost> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpk5cMEV TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519/find.py
<localhost> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519/find.py && sleep 0'
<localhost> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029100.8-58314205900519/" > /dev/null 2>&1 && sleep 0'
ok: [veos01 -> localhost] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501029101.0, 
            "ctime": 1501029100.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2651997, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1501029100.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2564, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup"
            ], 
            "pattern": "veos01_config*", 
            "patterns": [
                "veos01_config*"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:46
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/backup.yaml:50
ok: [veos01] => {
    "msg": "END cli/backup.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:2
ok: [veos01] => {
    "msg": "START cli/config.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047 `" && echo ansible-tmp-1501029106.55-230553238324047="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp3Itehx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029106.55-230553238324047/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029107", 
    "updates": [
        "hostname veos01"
    ]
}

TASK [eos_config : get current running-config] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/netcli.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659 `" && echo ansible-tmp-1501029114.84-61396278149659="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpOZuG4u TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029114.84-61396278149659/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show running-config"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   shutdown\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend"
    ], 
    "stdout_lines": [
        [
            "! Command: show running-config", 
            "! device: veos01 (vEOS, EOS-4.15.4F)", 
            "!", 
            "! boot system flash:/vEOS-lab-4.15.4.swi", 
            "!", 
            "transceiver qsfp default-mode 4x10G", 
            "!", 
            "no logging buffered", 
            "no logging console", 
            "logging facility syslog", 
            "!", 
            "hostname veos01", 
            "ip domain lookup vrf ansible source-interface Management1", 
            "ip name-server vrf default 1.1.1.1", 
            "ip name-server vrf default 2.2.2.2", 
            "!", 
            "ntp source Management1", 
            "ntp server 0.us.pool.ntp.org", 
            "ntp server 1.us.pool.ntp.org", 
            "ntp server 2.us.pool.ntp.org", 
            "ntp server 3.us.pool.ntp.org", 
            "!", 
            "spanning-tree mode mstp", 
            "!", 
            "aaa authorization exec default local", 
            "!", 
            "no aaa root", 
            "!", 
            "username ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.", 
            "!", 
            "role test", 
            "!", 
            "vlan 2-9,55", 
            "!", 
            "vlan 21", 
            "   name test-vlan", 
            "!", 
            "vlan 22", 
            "   name test-vlan-1", 
            "!", 
            "vlan 23", 
            "   name test-vlan-2", 
            "!", 
            "vlan 4000", 
            "   name test-vlan2", 
            "   state suspend", 
            "!", 
            "vrf definition mgmt", 
            "   rd 1:101", 
            "!", 
            "vrf definition test", 
            "   rd 1:201", 
            "!", 
            "interface Port-Channel1", 
            "!", 
            "interface Ethernet1", 
            "   no switchport", 
            "!", 
            "interface Ethernet2", 
            "   description this is a test", 
            "   shutdown", 
            "   no switchport", 
            "   vrf forwarding test", 
            "!", 
            "interface Ethernet3", 
            "   shutdown", 
            "   no switchport", 
            "!", 
            "interface Ethernet4", 
            "   shutdown", 
            "!", 
            "interface Ethernet5", 
            "   no switchport", 
            "!", 
            "interface Ethernet6", 
            "   shutdown", 
            "   no switchport", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Ethernet7", 
            "   shutdown", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Management1", 
            "   ip address 172.26.4.24/24", 
            "   no lldp transmit", 
            "   no lldp receive", 
            "!", 
            "interface Vlan102", 
            "!", 
            "ip access-list ext-test", 
            "   10 permit tcp host 172.30.22.10 eq snmp imap any syn", 
            "   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked", 
            "!", 
            "ip access-list test", 
            "   10 permit ip any any log ", 
            "!", 
            "ip access-list standard ans", 
            "   10 permit 0.0.0.0/4 log ", 
            "   20 permit 6.7.8.0/24 log ", 
            "   30 permit any log ", 
            "   40 deny host 5.7.3.7", 
            "   50 permit host 5.7.3.7", 
            "   60 permit host 10.5.6.4", 
            "!", 
            "ip access-list standard playbook", 
            "   10 permit any log ", 
            "   20 deny host 1.2.3.4", 
            "   40 permit any log ", 
            "   50 deny host 77.88.99.1", 
            "   60 deny host 10.1.1.1", 
            "   70 deny 0.0.0.0/0", 
            "   80 permit host 0.0.0.0", 
            "   90 permit 10.0.0.0/8", 
            "   100 permit 10.10.10.2 255.255.255.0", 
            "   110 permit 10.10.10.2 255.0.0.0", 
            "!", 
            "ip route 0.0.0.0/0 172.26.4.1", 
            "ip route 172.16.44.0/24 172.26.4.1 67", 
            "ip route 172.16.44.0/24 172.26.4.1 68", 
            "!", 
            "no ip routing", 
            "no ip routing vrf test", 
            "no ip routing vrf mgmt", 
            "!", 
            "maintenance", 
            "   bgp dd", 
            "   interface Ethernet1", 
            "      quiesce", 
            "!", 
            "banner login", 
            "this is my login banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "banner motd", 
            "this is my motd banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "!", 
            "management api http-commands", 
            "   protocol http", 
            "   protocol unix-socket", 
            "   no shutdown", 
            "!", 
            "!", 
            "end"
        ]
    ]
}

TASK [eos_config : configure hostname] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:16
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041 `" && echo ansible-tmp-1501029121.59-5929388747041="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1Bc9mx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029121.59-5929388747041/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname foo"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029122-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname veos01\n+hostname foo\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "config": "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   shutdown\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend", 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   shutdown\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend", 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029122", 
    "updates": [
        "hostname foo"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:23
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : get current running-config] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:28
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900 `" && echo ansible-tmp-1501029130.32-182636879162900="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpR6TF80 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029130.32-182636879162900/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show running-config"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        "! Command: show running-config\n! device: foo (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname foo\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   shutdown\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend"
    ], 
    "stdout_lines": [
        [
            "! Command: show running-config", 
            "! device: foo (vEOS, EOS-4.15.4F)", 
            "!", 
            "! boot system flash:/vEOS-lab-4.15.4.swi", 
            "!", 
            "transceiver qsfp default-mode 4x10G", 
            "!", 
            "no logging buffered", 
            "no logging console", 
            "logging facility syslog", 
            "!", 
            "hostname foo", 
            "ip domain lookup vrf ansible source-interface Management1", 
            "ip name-server vrf default 1.1.1.1", 
            "ip name-server vrf default 2.2.2.2", 
            "!", 
            "ntp source Management1", 
            "ntp server 0.us.pool.ntp.org", 
            "ntp server 1.us.pool.ntp.org", 
            "ntp server 2.us.pool.ntp.org", 
            "ntp server 3.us.pool.ntp.org", 
            "!", 
            "spanning-tree mode mstp", 
            "!", 
            "aaa authorization exec default local", 
            "!", 
            "no aaa root", 
            "!", 
            "username ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.", 
            "!", 
            "role test", 
            "!", 
            "vlan 2-9,55", 
            "!", 
            "vlan 21", 
            "   name test-vlan", 
            "!", 
            "vlan 22", 
            "   name test-vlan-1", 
            "!", 
            "vlan 23", 
            "   name test-vlan-2", 
            "!", 
            "vlan 4000", 
            "   name test-vlan2", 
            "   state suspend", 
            "!", 
            "vrf definition mgmt", 
            "   rd 1:101", 
            "!", 
            "vrf definition test", 
            "   rd 1:201", 
            "!", 
            "interface Port-Channel1", 
            "!", 
            "interface Ethernet1", 
            "   no switchport", 
            "!", 
            "interface Ethernet2", 
            "   description this is a test", 
            "   shutdown", 
            "   no switchport", 
            "   vrf forwarding test", 
            "!", 
            "interface Ethernet3", 
            "   shutdown", 
            "   no switchport", 
            "!", 
            "interface Ethernet4", 
            "   shutdown", 
            "!", 
            "interface Ethernet5", 
            "   no switchport", 
            "!", 
            "interface Ethernet6", 
            "   shutdown", 
            "   no switchport", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Ethernet7", 
            "   shutdown", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Management1", 
            "   ip address 172.26.4.24/24", 
            "   no lldp transmit", 
            "   no lldp receive", 
            "!", 
            "interface Vlan102", 
            "!", 
            "ip access-list ext-test", 
            "   10 permit tcp host 172.30.22.10 eq snmp imap any syn", 
            "   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked", 
            "!", 
            "ip access-list test", 
            "   10 permit ip any any log ", 
            "!", 
            "ip access-list standard ans", 
            "   10 permit 0.0.0.0/4 log ", 
            "   20 permit 6.7.8.0/24 log ", 
            "   30 permit any log ", 
            "   40 deny host 5.7.3.7", 
            "   50 permit host 5.7.3.7", 
            "   60 permit host 10.5.6.4", 
            "!", 
            "ip access-list standard playbook", 
            "   10 permit any log ", 
            "   20 deny host 1.2.3.4", 
            "   40 permit any log ", 
            "   50 deny host 77.88.99.1", 
            "   60 deny host 10.1.1.1", 
            "   70 deny 0.0.0.0/0", 
            "   80 permit host 0.0.0.0", 
            "   90 permit 10.0.0.0/8", 
            "   100 permit 10.10.10.2 255.255.255.0", 
            "   110 permit 10.10.10.2 255.0.0.0", 
            "!", 
            "ip route 0.0.0.0/0 172.26.4.1", 
            "ip route 172.16.44.0/24 172.26.4.1 67", 
            "ip route 172.16.44.0/24 172.26.4.1 68", 
            "!", 
            "no ip routing", 
            "no ip routing vrf test", 
            "no ip routing vrf mgmt", 
            "!", 
            "maintenance", 
            "   bgp dd", 
            "   interface Ethernet1", 
            "      quiesce", 
            "!", 
            "banner login", 
            "this is my login banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "banner motd", 
            "this is my motd banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "!", 
            "management api http-commands", 
            "   protocol http", 
            "   protocol unix-socket", 
            "   no shutdown", 
            "!", 
            "!", 
            "end"
        ]
    ]
}

TASK [eos_config : configure hostname again] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:34
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933 `" && echo ansible-tmp-1501029137.26-223928499037933="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpmd4vpd TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029137.26-223928499037933/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": null, 
            "backup": false, 
            "before": null, 
            "config": "! Command: show running-config\n! device: foo (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname foo\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   shutdown\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend", 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": null, 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": "! Command: show running-config\n! device: foo (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname foo\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   shutdown\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend", 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:41
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:45
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010 `" && echo ansible-tmp-1501029142.37-185506615198010="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpP_3InM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029142.37-185506615198010/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029143-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname foo\n+hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029143", 
    "updates": [
        "hostname veos01"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/config.yaml:51
ok: [veos01] => {
    "msg": "END cli/config.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:2
ok: [veos01] => {
    "msg": "START cli/defaults.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955 `" && echo ansible-tmp-1501029150.41-172389926214955="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpownJYd TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029150.41-172389926214955/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029151-session-config\n@@ -56,7 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n    shutdown\n    no switchport\n    vrf forwarding test"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029151", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "shutdown"
    ]
}

TASK [eos_config : configure device with defaults included] ********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:14
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885 `" && echo ansible-tmp-1501029158.19-213966232023885="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpJNb5Bs TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029158.19-213966232023885/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029160-session-config\n@@ -56,7 +56,7 @@\n    no switchport\n !\n interface Ethernet2\n-   shutdown\n+   description this is a test\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": true, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   no shutdown\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029160", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "no shutdown"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:21
ok: [veos01] => {
    "result": {
        "changed": true, 
        "commands": [
            "interface Ethernet2", 
            "description this is a test", 
            "no shutdown"
        ], 
        "diff": {
            "prepared": "--- system:/running-config\n+++ session:/ansible_1501029160-session-config\n@@ -56,7 +56,7 @@\n    no switchport\n !\n interface Ethernet2\n-   shutdown\n+   description this is a test\n    no switchport\n    vrf forwarding test\n !"
        }, 
        "failed": false, 
        "session": "ansible_1501029160", 
        "updates": [
            "interface Ethernet2", 
            "description this is a test", 
            "no shutdown"
        ]
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:23
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check device with defaults included] ************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:28
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987 `" && echo ansible-tmp-1501029167.04-89303308123987="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpVVAibP TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029167.04-89303308123987/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": true, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   no shutdown\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:35
ok: [veos01] => {
    "result": {
        "changed": false, 
        "failed": false
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:37
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/defaults.yaml:42
ok: [veos01] => {
    "msg": "END cli/defaults.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:2
ok: [veos01] => {
    "msg": "START cli/save.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283 `" && echo ansible-tmp-1501029173.14-121058159206283="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpW_dobX TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029173.14-121058159206283/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029174-session-config\n@@ -56,7 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029174", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : save config always] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:15
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833 `" && echo ansible-tmp-1501029181.64-108359311053833="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpwbUISK TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029181.64-108359311053833/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "always", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:21
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : save always again (not idempotent)] *************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:25
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154 `" && echo ansible-tmp-1501029188.26-25843209507154="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpXIMGjc TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029188.26-25843209507154/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "always", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:31
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/save.yaml:35
ok: [veos01] => {
    "msg": "END cli/save.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:2
ok: [veos01] => {
    "msg": "START cli/src_basic.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494 `" && echo ansible-tmp-1501029195.8-174100881106494="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmprNYucA TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029195.8-174100881106494/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029197", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : configure device with config] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:14
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150 `" && echo ansible-tmp-1501029204.75-243166176989150="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp3tDxkI TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029204.75-243166176989150/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029206-session-config\n@@ -56,6 +56,8 @@\n    no switchport\n !\n interface Ethernet2\n+   description this is a test\n+   shutdown\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029206", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:20
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check device with config] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:26
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150 `" && echo ansible-tmp-1501029215.07-272362305017150="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp_A_N_t TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029215.07-272362305017150/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": true, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:33
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_basic.yaml:39
ok: [veos01] => {
    "msg": "END cli/src_basic.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml:2
ok: [veos01] => {
    "msg": "START cli/src_invalid.yaml"
}

TASK [eos_config : configure with invalid src] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml:6
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "path specified in src not found"
}
...ignoring

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml:13
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_invalid.yaml:19
ok: [veos01] => {
    "msg": "END cli/src_invalid.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:2
ok: [veos01] => {
    "msg": "START cli/src_match_none.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321 `" && echo ansible-tmp-1501029221.85-158883679329321="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpEHTfWM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029221.85-158883679329321/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029222-session-config\n@@ -56,8 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n-   shutdown\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029222", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : configure device with config] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:14
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955 `" && echo ansible-tmp-1501029231.11-90978023881955="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpa0uFo0 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029231.11-90978023881955/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029232-session-config\n@@ -56,6 +56,8 @@\n    no switchport\n !\n interface Ethernet2\n+   description this is a test\n+   shutdown\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029232", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:21
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check device with config] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:27
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533 `" && echo ansible-tmp-1501029240.46-191243201598533="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpegWTjX TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029240.46-191243201598533/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": true, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:34
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/src_match_none.yaml:41
ok: [veos01] => {
    "msg": "END cli/src_match_none.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:2
ok: [veos01] => {
    "msg": "START cli/sublevel.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449 `" && echo ansible-tmp-1501029247.16-91858850260449="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpN6tIej TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029247.16-91858850260449/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no vlan 10"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no vlan 10"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029248", 
    "updates": [
        "no vlan 10"
    ]
}

TASK [eos_config : configure sub level command] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161 `" && echo ansible-tmp-1501029255.96-12020623632161="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpdSZ5dF TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029255.96-12020623632161/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "vlan 10", 
        "name test"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029257-session-config\n@@ -30,6 +30,9 @@\n role test\n !\n vlan 2-9,55\n+!\n+vlan 10\n+   name test\n !\n vlan 21\n    name test-vlan"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "name test"
            ], 
            "match": "line", 
            "parents": [
                "vlan 10"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029257", 
    "updates": [
        "vlan 10", 
        "name test"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:17
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : configure sub level command idempotent check] ***************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:23
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893 `" && echo ansible-tmp-1501029265.59-255769301638893="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpQ2pyu0 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029265.59-255769301638893/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "name test"
            ], 
            "match": "line", 
            "parents": [
                "vlan 10"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:30
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:34
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135 `" && echo ansible-tmp-1501029272.22-138136461551135="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpFzp9uM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029272.22-138136461551135/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no vlan 10"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029273-session-config\n@@ -30,9 +30,6 @@\n role test\n !\n vlan 2-9,55\n-!\n-vlan 10\n-   name test\n !\n vlan 21\n    name test-vlan"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no vlan 10"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029273", 
    "updates": [
        "no vlan 10"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel.yaml:41
ok: [veos01] => {
    "msg": "END cli/sublevel.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:2
ok: [veos01] => {
    "msg": "START cli/sublevel_block.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968 `" && echo ansible-tmp-1501029280.93-66051644348968="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpjGAZqY TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029280.93-66051644348968/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029282-session-config\n@@ -92,7 +92,9 @@\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n ip access-list test\n-   10 permit ip any any log \n+   10 permit ip host 1.1.1.1 any log \n+   20 permit ip host 2.2.2.2 any log \n+   30 permit ip host 3.3.3.3 any log \n !\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "no ip access-list test"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log"
            ], 
            "match": "none", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029282", 
    "updates": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "exit"
    ]
}

TASK [eos_config : configure sub level command using block resplace] ***********
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:16
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015 `" && echo ansible-tmp-1501029289.93-244883683689015="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpiqefag TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029289.93-244883683689015/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029291-session-config\n@@ -95,6 +95,7 @@\n    10 permit ip host 1.1.1.1 any log \n    20 permit ip host 2.2.2.2 any log \n    30 permit ip host 3.3.3.3 any log \n+   40 permit ip host 4.4.4.4 any log \n !\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log", 
                "40 permit ip host 4.4.4.4 any log"
            ], 
            "match": "line", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "block", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029291", 
    "updates": [
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "exit"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:29
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check sub level command using block replace] ****************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:38
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167 `" && echo ansible-tmp-1501029299.12-123578298698167="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp68oVPj TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029299.12-123578298698167/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log", 
                "40 permit ip host 4.4.4.4 any log"
            ], 
            "match": "line", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "block", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:51
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:55
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995 `" && echo ansible-tmp-1501029304.77-167116499632995="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1yvVTP TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029304.77-167116499632995/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029305-session-config\n@@ -91,12 +91,6 @@\n    10 permit tcp host 172.30.22.10 eq snmp imap any syn\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n-ip access-list test\n-   10 permit ip host 1.1.1.1 any log \n-   20 permit ip host 2.2.2.2 any log \n-   30 permit ip host 3.3.3.3 any log \n-   40 permit ip host 4.4.4.4 any log \n-!\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log \n    20 permit 6.7.8.0/24 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip access-list test"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029305", 
    "updates": [
        "no ip access-list test"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_block.yaml:61
ok: [veos01] => {
    "msg": "END cli/sublevel_block.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:2
ok: [veos01] => {
    "msg": "START cli/sublevel_exact.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309 `" && echo ansible-tmp-1501029312.71-61805922367309="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpeskFaF TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029312.71-61805922367309/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "50 permit ip host 5.5.5.5 any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029313-session-config\n@@ -91,6 +91,13 @@\n    10 permit tcp host 172.30.22.10 eq snmp imap any syn\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n+ip access-list test\n+   10 permit ip host 1.1.1.1 any log \n+   20 permit ip host 2.2.2.2 any log \n+   30 permit ip host 3.3.3.3 any log \n+   40 permit ip host 4.4.4.4 any log \n+   50 permit ip host 5.5.5.5 any log \n+!\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log \n    20 permit 6.7.8.0/24 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "no ip access-list test"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log", 
                "40 permit ip host 4.4.4.4 any log", 
                "50 permit ip host 5.5.5.5 any log"
            ], 
            "match": "none", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029313", 
    "updates": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "50 permit ip host 5.5.5.5 any log", 
        "exit"
    ]
}

TASK [eos_config : configure sub level command using exact match] **************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:18
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084 `" && echo ansible-tmp-1501029321.13-158552698661084="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpKmF2wp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029321.13-158552698661084/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029322-session-config\n@@ -96,7 +96,6 @@\n    20 permit ip host 2.2.2.2 any log \n    30 permit ip host 3.3.3.3 any log \n    40 permit ip host 4.4.4.4 any log \n-   50 permit ip host 5.5.5.5 any log \n !\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "no ip access-list test"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log", 
                "40 permit ip host 4.4.4.4 any log"
            ], 
            "match": "exact", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "block", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029322", 
    "updates": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "exit"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:33
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check sub level command using exact match] ******************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:43
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602 `" && echo ansible-tmp-1501029329.88-41842759084602="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp6_gtXK TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029329.88-41842759084602/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log", 
                "40 permit ip host 4.4.4.4 any log"
            ], 
            "match": "exact", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:55
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:59
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111 `" && echo ansible-tmp-1501029335.37-267061882248111="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmplaa_C2 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029335.37-267061882248111/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029336-session-config\n@@ -91,12 +91,6 @@\n    10 permit tcp host 172.30.22.10 eq snmp imap any syn\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n-ip access-list test\n-   10 permit ip host 1.1.1.1 any log \n-   20 permit ip host 2.2.2.2 any log \n-   30 permit ip host 3.3.3.3 any log \n-   40 permit ip host 4.4.4.4 any log \n-!\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log \n    20 permit 6.7.8.0/24 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip access-list test"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029336", 
    "updates": [
        "no ip access-list test"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_exact.yaml:65
ok: [veos01] => {
    "msg": "END cli/sublevel_exact.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:2
ok: [veos01] => {
    "msg": "START cli/sublevel_strict.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383 `" && echo ansible-tmp-1501029343.1-11455116345383="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpZ0JW1s TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029343.1-11455116345383/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "50 permit ip host 5.5.5.5 any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029344-session-config\n@@ -91,6 +91,13 @@\n    10 permit tcp host 172.30.22.10 eq snmp imap any syn\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n+ip access-list test\n+   10 permit ip host 1.1.1.1 any log \n+   20 permit ip host 2.2.2.2 any log \n+   30 permit ip host 3.3.3.3 any log \n+   40 permit ip host 4.4.4.4 any log \n+   50 permit ip host 5.5.5.5 any log \n+!\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log \n    20 permit 6.7.8.0/24 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "no ip access-list test"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 2.2.2.2 any log", 
                "30 permit ip host 3.3.3.3 any log", 
                "40 permit ip host 4.4.4.4 any log", 
                "50 permit ip host 5.5.5.5 any log"
            ], 
            "match": "none", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029344", 
    "updates": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 2.2.2.2 any log", 
        "30 permit ip host 3.3.3.3 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "50 permit ip host 5.5.5.5 any log", 
        "exit"
    ]
}

TASK [eos_config : configure sub level command using strict match] *************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:18
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765 `" && echo ansible-tmp-1501029351.62-225534561905765="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpEKlfCf TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029351.62-225534561905765/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 3.3.3.3 any log", 
        "30 permit ip host 2.2.2.2 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029353-session-config\n@@ -93,10 +93,9 @@\n !\n ip access-list test\n    10 permit ip host 1.1.1.1 any log \n-   20 permit ip host 2.2.2.2 any log \n-   30 permit ip host 3.3.3.3 any log \n+   20 permit ip host 3.3.3.3 any log \n+   30 permit ip host 2.2.2.2 any log \n    40 permit ip host 4.4.4.4 any log \n-   50 permit ip host 5.5.5.5 any log \n !\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "no ip access-list test"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 3.3.3.3 any log", 
                "30 permit ip host 2.2.2.2 any log", 
                "40 permit ip host 4.4.4.4 any log"
            ], 
            "match": "strict", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "block", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029353", 
    "updates": [
        "no ip access-list test", 
        "ip access-list test", 
        "10 permit ip host 1.1.1.1 any log", 
        "20 permit ip host 3.3.3.3 any log", 
        "30 permit ip host 2.2.2.2 any log", 
        "40 permit ip host 4.4.4.4 any log", 
        "exit"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:33
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check sub level command using strict match] *****************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:43
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493 `" && echo ansible-tmp-1501029361.19-110156144135493="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp6zDq4z TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029361.19-110156144135493/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip host 1.1.1.1 any log", 
                "20 permit ip host 3.3.3.3 any log", 
                "30 permit ip host 2.2.2.2 any log", 
                "40 permit ip host 4.4.4.4 any log"
            ], 
            "match": "strict", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:55
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:59
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632 `" && echo ansible-tmp-1501029366.55-230445775979632="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpFlr3bu TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029366.55-230445775979632/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029367-session-config\n@@ -91,12 +91,6 @@\n    10 permit tcp host 172.30.22.10 eq snmp imap any syn\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n-ip access-list test\n-   10 permit ip host 1.1.1.1 any log \n-   20 permit ip host 3.3.3.3 any log \n-   30 permit ip host 2.2.2.2 any log \n-   40 permit ip host 4.4.4.4 any log \n-!\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log \n    20 permit 6.7.8.0/24 log"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip access-list test"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029367", 
    "updates": [
        "no ip access-list test"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/sublevel_strict.yaml:65
ok: [veos01] => {
    "msg": "END cli/sublevel_strict.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:2
ok: [veos01] => {
    "msg": "START cli/toplevel.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471 `" && echo ansible-tmp-1501029374.65-103981251728471="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpXL4X1M TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029374.65-103981251728471/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029376", 
    "updates": [
        "hostname veos01"
    ]
}

TASK [eos_config : configure top level command] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022 `" && echo ansible-tmp-1501029382.61-19267110139022="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmps6h2AQ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029382.61-19267110139022/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname foo"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029384-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname veos01\n+hostname foo\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029384", 
    "updates": [
        "hostname foo"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:16
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : configure top level command idempotent check] ***************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:21
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153 `" && echo ansible-tmp-1501029391.29-58554753865153="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1sGXlc TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029391.29-58554753865153/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:27
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:31
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952 `" && echo ansible-tmp-1501029397.11-141948678237952="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpBDmdeF TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029397.11-141948678237952/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029398-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname foo\n+hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029398", 
    "updates": [
        "hostname veos01"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel.yaml:37
ok: [veos01] => {
    "msg": "END cli/toplevel.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:2
ok: [veos01] => {
    "msg": "START cli/toplevel_after.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438 `" && echo ansible-tmp-1501029405.45-154531084506438="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpdNAibr TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029405.45-154531084506438/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "snmp-server contact ansible", 
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029406-session-config\n@@ -18,6 +18,8 @@\n ntp server 1.us.pool.ntp.org\n ntp server 2.us.pool.ntp.org\n ntp server 3.us.pool.ntp.org\n+!\n+snmp-server contact ansible\n !\n spanning-tree mode mstp\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "snmp-server contact ansible", 
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029406", 
    "updates": [
        "snmp-server contact ansible", 
        "hostname veos01"
    ]
}

TASK [eos_config : configure top level command with before] ********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:12
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058 `" && echo ansible-tmp-1501029413.06-202548878921058="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpHW2PxI TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029413.06-202548878921058/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname foo", 
        "snmp-server contact bar"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029414-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname veos01\n+hostname foo\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n@@ -19,7 +19,7 @@\n ntp server 2.us.pool.ntp.org\n ntp server 3.us.pool.ntp.org\n !\n-snmp-server contact ansible\n+snmp-server contact bar\n !\n spanning-tree mode mstp\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "snmp-server contact bar"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029414", 
    "updates": [
        "hostname foo", 
        "snmp-server contact bar"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:19
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : configure top level command with before idempotent check] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:25
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425 `" && echo ansible-tmp-1501029421.35-39743257534425="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpv1hXA3 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029421.35-39743257534425/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "snmp-server contact foo"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:32
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:36
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136 `" && echo ansible-tmp-1501029427.04-216797072971136="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpjX5VsO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029427.04-216797072971136/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no snmp-server contact", 
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029428-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname foo\n+hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n@@ -18,8 +18,6 @@\n ntp server 1.us.pool.ntp.org\n ntp server 2.us.pool.ntp.org\n ntp server 3.us.pool.ntp.org\n-!\n-snmp-server contact bar\n !\n spanning-tree mode mstp\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no snmp-server contact", 
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029428", 
    "updates": [
        "no snmp-server contact", 
        "hostname veos01"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_after.yaml:44
ok: [veos01] => {
    "msg": "END cli/toplevel_after.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:2
ok: [veos01] => {
    "msg": "START cli/toplevel_before.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545 `" && echo ansible-tmp-1501029435.46-71701943706545="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpfallpp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029435.46-71701943706545/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "snmp-server contact ansible", 
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029436-session-config\n@@ -18,6 +18,8 @@\n ntp server 1.us.pool.ntp.org\n ntp server 2.us.pool.ntp.org\n ntp server 3.us.pool.ntp.org\n+!\n+snmp-server contact ansible\n !\n spanning-tree mode mstp\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "snmp-server contact ansible", 
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029436", 
    "updates": [
        "snmp-server contact ansible", 
        "hostname veos01"
    ]
}

TASK [eos_config : configure top level command with before] ********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:12
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770 `" && echo ansible-tmp-1501029443.21-52459152872770="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpcS82Vp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029443.21-52459152872770/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "snmp-server contact bar", 
        "hostname foo"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029444-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname veos01\n+hostname foo\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n@@ -19,7 +19,7 @@\n ntp server 2.us.pool.ntp.org\n ntp server 3.us.pool.ntp.org\n !\n-snmp-server contact ansible\n+snmp-server contact bar\n !\n spanning-tree mode mstp\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "snmp-server contact bar"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029444", 
    "updates": [
        "snmp-server contact bar", 
        "hostname foo"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:19
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : configure top level command with before idempotent check] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:25
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817 `" && echo ansible-tmp-1501029451.28-17071434071817="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpR_F9Qi TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029451.28-17071434071817/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": [
                "snmp-server contact foo"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname foo"
            ], 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:32
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:36
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700 `" && echo ansible-tmp-1501029457.41-149526290056700="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpSEzmms TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029457.41-149526290056700/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01", 
        "no snmp-server contact"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029458-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname foo\n+hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n@@ -18,8 +18,6 @@\n ntp server 1.us.pool.ntp.org\n ntp server 2.us.pool.ntp.org\n ntp server 3.us.pool.ntp.org\n-!\n-snmp-server contact bar\n !\n spanning-tree mode mstp\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01", 
                "no snmp-server contact"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029458", 
    "updates": [
        "hostname veos01", 
        "no snmp-server contact"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/cli/toplevel_before.yaml:44
ok: [veos01] => {
    "msg": "END cli/toplevel_before.yaml"
}

TASK [eos_config : collect all eapi test cases] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/eapi.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065 `" && echo ansible-tmp-1501029461.79-15901655687065="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpkYYKzP TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029461.79-15901655687065/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 13, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027085.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601740, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1037, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601741, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 783, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601742, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 571, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601743, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 806, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796716, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 446, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601744, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 856, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796718, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 876, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796719, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_block.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1604, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027085.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796720, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_exact.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1834, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027086.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796721, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_strict.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1808, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027086.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796722, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 743, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027086.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796723, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel_after.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 990, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027086.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796724, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel_before.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1002, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 13, 
    "msg": ""
}

TASK [eos_config : set test_items] *********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/eapi.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_block.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_exact.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_strict.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel_after.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel_before.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_config : enable eapi] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/eapi.yaml:11
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344 `" && echo ansible-tmp-1501029467.03-273007534545344="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp5WU36S TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029467.03-273007534545344/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": true, 
            "http_port": null, 
            "https": true, 
            "https_port": null, 
            "local_http": false, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": true, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_config : run test case] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tasks/eapi.yaml:19
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_block.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_exact.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel_strict.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel_after.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/toplevel_before.yaml for veos01

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:2
ok: [veos01] => {
    "msg": "START eapi/backup.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512 `" && echo ansible-tmp-1501029470.3-186756073007512="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1Px5ft TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029470.3-186756073007512/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029471-session-config\n@@ -56,8 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n-   shutdown\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029471", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : collect any backup files] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:14
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<localhost> EXEC /bin/sh -c 'echo ~ && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118 `" && echo ansible-tmp-1501029475.08-144830222710118="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118 `" ) && sleep 0'
<localhost> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpPhQgSC TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118/find.py
<localhost> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118/find.py && sleep 0'
<localhost> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029475.08-144830222710118/" > /dev/null 2>&1 && sleep 0'
ok: [veos01 -> localhost] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501029101.0, 
            "ctime": 1501029100.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2651997, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1501029100.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2564, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup"
            ], 
            "pattern": "veos01_config*", 
            "patterns": [
                "veos01_config*"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_config : delete backup files] ****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:21
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/file.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680 `" && echo ansible-tmp-1501029476.2-234855587838680="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpkCL8Te TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680/file.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680/file.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680/file.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029476.2-234855587838680/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => (item={u'uid': 501, u'woth': False, u'mtime': 1501029100.0, u'inode': 2651997, u'isgid': False, u'size': 2564, u'roth': True, u'isuid': False, u'isreg': True, u'gid': 20, u'ischr': False, u'wusr': True, u'xoth': False, u'rusr': True, u'nlink': 1, u'issock': False, u'rgrp': True, u'path': u'/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40', u'xusr': False, u'atime': 1501029101.0, u'isdir': False, u'ctime': 1501029100.0, u'wgrp': False, u'xgrp': False, u'dev': 16777220, u'isblk': False, u'isfifo': False, u'mode': u'0644', u'islnk': False}) => {
    "changed": true, 
    "diff": {
        "after": {
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
            "state": "absent"
        }, 
        "before": {
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
            "state": "file"
        }
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": null, 
            "owner": null, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": null, 
            "state": "absent", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "item": {
        "atime": 1501029101.0, 
        "ctime": 1501029100.0, 
        "dev": 16777220, 
        "gid": 20, 
        "inode": 2651997, 
        "isblk": false, 
        "ischr": false, 
        "isdir": false, 
        "isfifo": false, 
        "isgid": false, 
        "islnk": false, 
        "isreg": true, 
        "issock": false, 
        "isuid": false, 
        "mode": "0644", 
        "mtime": 1501029100.0, 
        "nlink": 1, 
        "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
        "rgrp": true, 
        "roth": true, 
        "rusr": true, 
        "size": 2564, 
        "uid": 501, 
        "wgrp": false, 
        "woth": false, 
        "wusr": true, 
        "xgrp": false, 
        "xoth": false, 
        "xusr": false
    }, 
    "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:31:40", 
    "state": "absent"
}

TASK [eos_config : configure device with config] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:27
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257 `" && echo ansible-tmp-1501029477.23-54774897322257="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpyCs7iM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029477.23-54774897322257/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "backup_path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:38:02", 
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029478-session-config\n@@ -56,6 +56,8 @@\n    no switchport\n !\n interface Ethernet2\n+   description this is a test\n+   shutdown\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": true, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029478", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:34
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : collect any backup files] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:39
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<localhost> EXEC /bin/sh -c 'echo ~ && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295 `" && echo ansible-tmp-1501029482.39-269639046492295="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295 `" ) && sleep 0'
<localhost> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpfDBWcy TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295/find.py
<localhost> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295/find.py && sleep 0'
<localhost> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029482.39-269639046492295/" > /dev/null 2>&1 && sleep 0'
ok: [veos01 -> localhost] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501029482.0, 
            "ctime": 1501029482.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2654369, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1501029482.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup/veos01_config.2017-07-25@20:38:02", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2513, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_config/backup"
            ], 
            "pattern": "veos01_config*", 
            "patterns": [
                "veos01_config*"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:46
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/backup.yaml:50
ok: [veos01] => {
    "msg": "END eapi/backup.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:2
ok: [veos01] => {
    "msg": "START eapi/defaults.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294 `" && echo ansible-tmp-1501029483.52-112213513526294="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpqBdvdm TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029483.52-112213513526294/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029484-session-config\n@@ -56,7 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n    shutdown\n    no switchport\n    vrf forwarding test\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029484", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "shutdown"
    ]
}

TASK [eos_config : configure device with defaults included] ********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:14
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898 `" && echo ansible-tmp-1501029487.66-268832816229898="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpswxigf TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029487.66-268832816229898/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029489-session-config\n@@ -56,7 +56,7 @@\n    no switchport\n !\n interface Ethernet2\n-   shutdown\n+   description this is a test\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": true, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   no shutdown\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029489", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "no shutdown"
    ]
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:21
ok: [veos01] => {
    "result": {
        "changed": true, 
        "commands": [
            "interface Ethernet2", 
            "description this is a test", 
            "no shutdown"
        ], 
        "diff": {
            "prepared": "--- system:/running-config\n+++ session:/ansible_1501029489-session-config\n@@ -56,7 +56,7 @@\n    no switchport\n !\n interface Ethernet2\n-   shutdown\n+   description this is a test\n    no switchport\n    vrf forwarding test\n !\n\n"
        }, 
        "failed": false, 
        "session": "ansible_1501029489", 
        "updates": [
            "interface Ethernet2", 
            "description this is a test", 
            "no shutdown"
        ]
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:23
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check device with defaults included] ************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:28
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136 `" && echo ansible-tmp-1501029492.21-210310424880136="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpnkrnUG TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029492.21-210310424880136/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": true, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   no shutdown\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:35
ok: [veos01] => {
    "result": {
        "changed": false, 
        "failed": false
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:37
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/defaults.yaml:42
ok: [veos01] => {
    "msg": "END eapi/defaults.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:2
ok: [veos01] => {
    "msg": "START eapi/save.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166 `" && echo ansible-tmp-1501029494.87-232138290523166="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpdPzkNF TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029494.87-232138290523166/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029496-session-config\n@@ -56,7 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029496", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : save config] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:15
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646 `" && echo ansible-tmp-1501029498.76-126880772124646="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpbMJxpO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029498.76-126880772124646/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "always", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:21
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : save should always run] *************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:25
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607 `" && echo ansible-tmp-1501029502.25-261299111857607="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmptZBC9a TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029502.25-261299111857607/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "always", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:31
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/save.yaml:35
ok: [veos01] => {
    "msg": "END eapi/save.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:2
ok: [veos01] => {
    "msg": "START eapi/src_basic.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307 `" && echo ansible-tmp-1501029505.76-219050721268307="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpQn5nfx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029505.76-219050721268307/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029507", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : configure device with config] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:14
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673 `" && echo ansible-tmp-1501029509.93-169843086157673="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpS_8alB TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029509.93-169843086157673/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029512-session-config\n@@ -56,6 +56,8 @@\n    no switchport\n !\n interface Ethernet2\n+   description this is a test\n+   shutdown\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029512", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:20
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check device with config] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:26
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428 `" && echo ansible-tmp-1501029515.11-138361368874428="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmph37H2G TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029515.11-138361368874428/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:32
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_basic.yaml:38
ok: [veos01] => {
    "msg": "END eapi/src_basic.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml:2
ok: [veos01] => {
    "msg": "START eapi/src_invalid.yaml"
}

TASK [eos_config : configure with invalid src] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml:6
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "path specified in src not found"
}
...ignoring

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml:13
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_invalid.yaml:19
ok: [veos01] => {
    "msg": "END eapi/src_invalid.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:2
ok: [veos01] => {
    "msg": "START eapi/src_match_none.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280 `" && echo ansible-tmp-1501029517.44-270208803279280="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpiSlplZ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029517.44-270208803279280/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029518-session-config\n@@ -56,8 +56,6 @@\n    no switchport\n !\n interface Ethernet2\n-   description this is a test\n-   shutdown\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "commands": [
                "no description", 
                "no shutdown"
            ], 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no description", 
                "no shutdown"
            ], 
            "match": "none", 
            "parents": [
                "interface Ethernet2"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029518", 
    "updates": [
        "interface Ethernet2", 
        "no description", 
        "no shutdown"
    ]
}

TASK [eos_config : configure device with config] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:14
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302 `" && echo ansible-tmp-1501029521.79-77343119581302="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpz0CrQo TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029521.79-77343119581302/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029522-session-config\n@@ -56,6 +56,8 @@\n    no switchport\n !\n interface Ethernet2\n+   description this is a test\n+   shutdown\n    no switchport\n    vrf forwarding test\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029522", 
    "updates": [
        "interface Ethernet2", 
        "description this is a test", 
        "shutdown"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:21
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : check device with config] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:27
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717 `" && echo ansible-tmp-1501029526.17-118334325149717="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpcuSPPl TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029526.17-118334325149717/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": null, 
            "match": "line", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": "interface Ethernet2\n   description this is a test\n   shutdown\n\n", 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:33
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/src_match_none.yaml:40
ok: [veos01] => {
    "msg": "END eapi/src_match_none.yaml"
}

TASK [eos_config : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:2
ok: [veos01] => {
    "msg": "START eapi/sublevel.yaml"
}

TASK [eos_config : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749 `" && echo ansible-tmp-1501029528.64-233829117295749="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpQbiDbB TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029528.64-233829117295749/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip access-list test"
    ], 
    "diff": {
        "prepared": "\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip access-list test"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029529", 
    "updates": [
        "no ip access-list test"
    ]
}

TASK [eos_config : configure sub level command] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:10
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351 `" && echo ansible-tmp-1501029533.53-209487161693351="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp6wuTg3 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029533.53-209487161693351/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip access-list test", 
        "10 permit ip any any log", 
        "exit"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029535-session-config\n@@ -91,6 +91,9 @@\n    10 permit tcp host 172.30.22.10 eq snmp imap any syn\n    20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n !\n+ip access-list test\n+   10 permit ip any any log \n+!\n ip access-list standard ans\n    10 permit 0.0.0.0/4 log \n    20 permit 6.7.8.0/24 log \n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": [
                "exit"
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip any any log"
            ], 
            "match": "line", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029535", 
    "updates": [
        "ip access-list test", 
        "10 permit ip any any log", 
        "exit"
    ]
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:18
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : configure sub level command idempotent check] ***************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:24
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754 `" && echo ansible-tmp-1501029538.47-37473608325754="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp_1qWol TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029538.47-37473608325754/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "10 permit ip any any log"
            ], 
            "match": "line", 
            "parents": [
                "ip access-list test"
            ], 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_config : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:31
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_config : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_config/tests/eapi/sublevel.yaml:35
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: 
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "unable to open shell. Please see: https://docs.ansible.com/ansible/network_debug_troubleshooting.html#unable-to-open-shell"
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:39
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner", 
            "eos_command", 
            "eos_config"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: 
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "unable to open shell. Please see: https://docs.ansible.com/ansible/network_debug_troubleshooting.html#unable-to-open-shell"
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:48
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner", 
            "eos_command", 
            "eos_config", 
            "eos_template"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565 `" && echo ansible-tmp-1501029569.01-276666133965565="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpktYyts TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029569.01-276666133965565/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029570", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586 `" && echo ansible-tmp-1501029578.16-270839664214586="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpCTdn_t TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029578.16-270839664214586/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029579-session-config\n@@ -57,7 +57,6 @@\n !\n interface Ethernet2\n    description this is a test\n-   shutdown\n    no switchport\n    vrf forwarding test\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029579", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_facts : collect all cli test cases] **********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/cli.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435 `" && echo ansible-tmp-1501029582.23-44701515342435="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmptc2W4N TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029582.23-44701515342435/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 4, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027198.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796755, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 950, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027199.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796756, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1084, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027199.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796757, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 991, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027199.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796758, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 926, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 4, 
    "msg": ""
}

TASK [eos_facts : set test_items] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_facts : run test case] ***********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml for veos01

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml:2
ok: [veos01] => {
    "msg": "START cli/all_facts.yaml"
}

TASK [eos_facts : test getting all facts] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml:5
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174 `" && echo ansible-tmp-1501029587.8-22706374135174="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpRSYcjM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029587.8-22706374135174/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_all_ipv4_addresses": [
            "172.26.4.24", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0"
        ], 
        "ansible_net_all_ipv6_addresses": [], 
        "ansible_net_config": "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend", 
        "ansible_net_filesystems": [
            "file:", 
            "flash:", 
            "system:"
        ], 
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "hardware", 
            "default", 
            "interfaces", 
            "config"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_interfaces": {
            "Ethernet1": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet2": {
                "bandwidth": 0, 
                "description": "this is a test", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet3": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "disabled", 
                "type": "routed"
            }, 
            "Ethernet4": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:76:2a", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "bridged"
            }, 
            "Ethernet5": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet6": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:af:87", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Ethernet7": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Management1": {
                "bandwidth": 1000000000, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "172.26.4.24", 
                    "masklen": 24
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:bc:1d:fd", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Port-Channel1": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "notconnect", 
                "type": "bridged"
            }, 
            "Vlan102": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "notconnect", 
                "type": "routed"
            }
        }, 
        "ansible_net_memfree_mb": 259, 
        "ansible_net_memtotal_mb": 1853, 
        "ansible_net_model": "vEOS", 
        "ansible_net_neighbors": {}, 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "all"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml:14
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/all_facts.yaml:31
ok: [veos01] => {
    "msg": "END cli/all_facts.yaml"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml:2
ok: [veos01] => {
    "msg": "START cli/default_facts.yaml"
}

TASK [eos_facts : test getting default facts] **********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml:5
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008 `" && echo ansible-tmp-1501029594.93-121472753297008="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpJrDCnB TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029594.93-121472753297008/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_all_ipv4_addresses": [
            "172.26.4.24", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0"
        ], 
        "ansible_net_all_ipv6_addresses": [], 
        "ansible_net_filesystems": [
            "file:", 
            "flash:", 
            "system:"
        ], 
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "hardware", 
            "default", 
            "interfaces"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_interfaces": {
            "Ethernet1": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet2": {
                "bandwidth": 0, 
                "description": "this is a test", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet3": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "disabled", 
                "type": "routed"
            }, 
            "Ethernet4": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:76:2a", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "bridged"
            }, 
            "Ethernet5": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet6": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:af:87", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Ethernet7": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Management1": {
                "bandwidth": 1000000000, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "172.26.4.24", 
                    "masklen": 24
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:bc:1d:fd", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Port-Channel1": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "notconnect", 
                "type": "bridged"
            }, 
            "Vlan102": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "notconnect", 
                "type": "routed"
            }
        }, 
        "ansible_net_memfree_mb": 258, 
        "ansible_net_memtotal_mb": 1853, 
        "ansible_net_model": "vEOS", 
        "ansible_net_neighbors": {}, 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "!config"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml:10
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/default_facts.yaml:31
ok: [veos01] => {
    "msg": "END cli/default.yaml"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml:2
ok: [veos01] => {
    "msg": "START cli/invalid_subset.yaml"
}

TASK [eos_facts : test invalid subset (foobar)] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml:5
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410 `" && echo ansible-tmp-1501029601.41-13249299471410="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1SE_M9 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029601.41-13249299471410/" > /dev/null 2>&1 && sleep 0'
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": null, 
            "gather_subset": [
                "foobar"
            ], 
            "host": null, 
            "password": null, 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "msg": "Subset must be one of [hardware, default, interfaces, config], got foobar"
}
...ignoring

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml:14
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : test subset specified multiple times] ************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml:27
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772 `" && echo ansible-tmp-1501029606.97-30915270051772="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp9wtVlF TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029606.97-30915270051772/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "default"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_model": "vEOS", 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "!hardware", 
                "hardware"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml:36
fatal: [veos01]: FAILED! => {
    "assertion": "result.failed == true", 
    "changed": false, 
    "evaluated_to": false, 
    "failed": true
}
...ignoring

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/invalid_subset.yaml:48
ok: [veos01] => {
    "msg": "END cli/invalid_subset.yaml"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml:2
ok: [veos01] => {
    "msg": "START cli/not_hardware_facts.yaml"
}

TASK [eos_facts : test not hardware] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml:5
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626 `" && echo ansible-tmp-1501029612.77-113955665253626="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpoF1d23 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029612.77-113955665253626/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_all_ipv4_addresses": [
            "172.26.4.24", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0"
        ], 
        "ansible_net_all_ipv6_addresses": [], 
        "ansible_net_config": "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   protocol http\n   protocol unix-socket\n   no shutdown\n!\n!\nend", 
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "default", 
            "interfaces", 
            "config"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_interfaces": {
            "Ethernet1": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet2": {
                "bandwidth": 0, 
                "description": "this is a test", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet3": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "disabled", 
                "type": "routed"
            }, 
            "Ethernet4": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:76:2a", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "bridged"
            }, 
            "Ethernet5": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet6": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:af:87", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Ethernet7": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Management1": {
                "bandwidth": 1000000000, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "172.26.4.24", 
                    "masklen": 24
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:bc:1d:fd", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Port-Channel1": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "notconnect", 
                "type": "bridged"
            }, 
            "Vlan102": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "notconnect", 
                "type": "routed"
            }
        }, 
        "ansible_net_model": "vEOS", 
        "ansible_net_neighbors": {}, 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "!hardware"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml:12
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/cli/not_hardware.yaml:30
ok: [veos01] => {
    "msg": "END cli/not_hardware_facts.yaml"
}

TASK [eos_facts : collect all eapi test cases] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/eapi.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230 `" && echo ansible-tmp-1501029615.17-50867416116230="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpkmdveT TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029615.17-50867416116230/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 4, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027234.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796760, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 953, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027234.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796761, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1087, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027234.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796762, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 995, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027234.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796763, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 929, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 4, 
    "msg": ""
}

TASK [eos_facts : set test_items] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/eapi.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_facts : enable eapi] *************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/eapi.yaml:11
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289 `" && echo ansible-tmp-1501029619.84-271746415318289="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpOD5Enb TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029619.84-271746415318289/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_socket": true, 
            "host": "veos01", 
            "http": true, 
            "http_port": null, 
            "https": true, 
            "https_port": null, 
            "local_http": false, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": true, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_facts : run test case] ***********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/eapi.yaml:19
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml for veos01

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml:2
ok: [veos01] => {
    "msg": "START eapi/all_facts.yaml"
}

TASK [eos_facts : test getting all facts] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml:5
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532 `" && echo ansible-tmp-1501029621.84-152644018552532="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpWCZ63T TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029621.84-152644018552532/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_all_ipv4_addresses": [
            "172.26.4.24", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0"
        ], 
        "ansible_net_all_ipv6_addresses": [], 
        "ansible_net_config": {
            "cmds": {
                "! boot system flash:/vEOS-lab-4.15.4.swi": null, 
                "EOF": null, 
                "aaa authorization exec default local": null, 
                "banner login": null, 
                "banner motd": null, 
                "hostname veos01": null, 
                "interface Ethernet1": {
                    "cmds": {
                        "no switchport": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet2": {
                    "cmds": {
                        "description this is a test": null, 
                        "no switchport": null, 
                        "vrf forwarding test": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet3": {
                    "cmds": {
                        "no switchport": null, 
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet4": {
                    "cmds": {
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet5": {
                    "cmds": {
                        "no switchport": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet6": {
                    "cmds": {
                        "channel-group 1 mode active": null, 
                        "no switchport": null, 
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet7": {
                    "cmds": {
                        "channel-group 1 mode active": null, 
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Management1": {
                    "cmds": {
                        "ip address 172.26.4.24/24": null, 
                        "no lldp receive": null, 
                        "no lldp transmit": null
                    }, 
                    "comments": []
                }, 
                "interface Port-Channel1": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "interface Vlan102": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "ip access-list ext-test": {
                    "cmds": {
                        "10 permit tcp host 172.30.22.10 eq snmp imap any syn": null, 
                        "20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked": null
                    }, 
                    "comments": []
                }, 
                "ip access-list standard ans": {
                    "cmds": {
                        "10 permit 0.0.0.0/4 log ": null, 
                        "20 permit 6.7.8.0/24 log ": null, 
                        "30 permit any log ": null, 
                        "40 deny host 5.7.3.7": null, 
                        "50 permit host 5.7.3.7": null, 
                        "60 permit host 10.5.6.4": null
                    }, 
                    "comments": []
                }, 
                "ip access-list standard playbook": {
                    "cmds": {
                        "10 permit any log ": null, 
                        "100 permit 10.10.10.2 255.255.255.0": null, 
                        "110 permit 10.10.10.2 255.0.0.0": null, 
                        "20 deny host 1.2.3.4": null, 
                        "40 permit any log ": null, 
                        "50 deny host 77.88.99.1": null, 
                        "60 deny host 10.1.1.1": null, 
                        "70 deny 0.0.0.0/0": null, 
                        "80 permit host 0.0.0.0": null, 
                        "90 permit 10.0.0.0/8": null
                    }, 
                    "comments": []
                }, 
                "ip access-list test": {
                    "cmds": {
                        "10 permit ip any any log ": null
                    }, 
                    "comments": []
                }, 
                "ip domain lookup vrf ansible source-interface Management1": null, 
                "ip name-server vrf default 1.1.1.1": null, 
                "ip name-server vrf default 2.2.2.2": null, 
                "ip route 0.0.0.0/0 172.26.4.1": null, 
                "ip route 172.16.44.0/24 172.26.4.1 67": null, 
                "ip route 172.16.44.0/24 172.26.4.1 68": null, 
                "logging facility syslog": null, 
                "maintenance": {
                    "cmds": {
                        "bgp dd": {
                            "cmds": {}, 
                            "comments": []
                        }, 
                        "interface Ethernet1": {
                            "cmds": {
                                "quiesce": null
                            }, 
                            "comments": []
                        }
                    }, 
                    "comments": []
                }, 
                "management api http-commands": {
                    "cmds": {
                        "no shutdown": null, 
                        "protocol http": null, 
                        "protocol unix-socket": null
                    }, 
                    "comments": []
                }, 
                "no aaa root": null, 
                "no ip routing": null, 
                "no ip routing vrf mgmt": null, 
                "no ip routing vrf test": null, 
                "no logging buffered": null, 
                "no logging console": null, 
                "ntp server 0.us.pool.ntp.org": null, 
                "ntp server 1.us.pool.ntp.org": null, 
                "ntp server 2.us.pool.ntp.org": null, 
                "ntp server 3.us.pool.ntp.org": null, 
                "ntp source Management1": null, 
                "role test": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "spanning-tree mode mstp": null, 
                "string": null, 
                "that has a multiline": null, 
                "this is my login banner": null, 
                "this is my motd banner": null, 
                "transceiver qsfp default-mode 4x10G": null, 
                "username admin privilege 15 role network-admin secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.": null, 
                "vlan 2-9,55": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "vlan 21": {
                    "cmds": {
                        "name test-vlan": null
                    }, 
                    "comments": []
                }, 
                "vlan 22": {
                    "cmds": {
                        "name test-vlan-1": null
                    }, 
                    "comments": []
                }, 
                "vlan 23": {
                    "cmds": {
                        "name test-vlan-2": null
                    }, 
                    "comments": []
                }, 
                "vlan 4000": {
                    "cmds": {
                        "name test-vlan2": null, 
                        "state suspend": null
                    }, 
                    "comments": []
                }, 
                "vrf definition mgmt": {
                    "cmds": {
                        "rd 1:101": null
                    }, 
                    "comments": []
                }, 
                "vrf definition test": {
                    "cmds": {
                        "rd 1:201": null
                    }, 
                    "comments": []
                }
            }, 
            "comments": [], 
            "header": [
                "! device: veos01 (vEOS, EOS-4.15.4F)\n!\n"
            ]
        }, 
        "ansible_net_filesystems": [
            "file:", 
            "flash:", 
            "system:"
        ], 
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "hardware", 
            "default", 
            "interfaces", 
            "config"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_interfaces": {
            "Ethernet1": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet2": {
                "bandwidth": 0, 
                "description": "this is a test", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet3": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "disabled", 
                "type": "routed"
            }, 
            "Ethernet4": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:76:2a", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "bridged"
            }, 
            "Ethernet5": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet6": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:af:87", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Ethernet7": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Management1": {
                "bandwidth": 1000000000, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "172.26.4.24", 
                    "masklen": 24
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:bc:1d:fd", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Port-Channel1": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "notconnect", 
                "type": "bridged"
            }, 
            "Vlan102": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "notconnect", 
                "type": "routed"
            }
        }, 
        "ansible_net_memfree_mb": 228, 
        "ansible_net_memtotal_mb": 1853, 
        "ansible_net_model": "vEOS", 
        "ansible_net_neighbors": {}, 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "all"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml:14
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/all_facts.yaml:31
ok: [veos01] => {
    "msg": "END eapi/all_facts.yaml"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml:2
ok: [veos01] => {
    "msg": "START eapi/default_facts.yaml"
}

TASK [eos_facts : test getting default facts] **********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml:5
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606 `" && echo ansible-tmp-1501029625.52-133382446645606="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpuKIHzl TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029625.52-133382446645606/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_all_ipv4_addresses": [
            "172.26.4.24", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0"
        ], 
        "ansible_net_all_ipv6_addresses": [], 
        "ansible_net_filesystems": [
            "file:", 
            "flash:", 
            "system:"
        ], 
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "hardware", 
            "default", 
            "interfaces"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_interfaces": {
            "Ethernet1": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet2": {
                "bandwidth": 0, 
                "description": "this is a test", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet3": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "disabled", 
                "type": "routed"
            }, 
            "Ethernet4": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:76:2a", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "bridged"
            }, 
            "Ethernet5": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet6": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:af:87", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Ethernet7": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Management1": {
                "bandwidth": 1000000000, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "172.26.4.24", 
                    "masklen": 24
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:bc:1d:fd", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Port-Channel1": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "notconnect", 
                "type": "bridged"
            }, 
            "Vlan102": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "notconnect", 
                "type": "routed"
            }
        }, 
        "ansible_net_memfree_mb": 228, 
        "ansible_net_memtotal_mb": 1853, 
        "ansible_net_model": "vEOS", 
        "ansible_net_neighbors": {}, 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "!config"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml:10
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/default_facts.yaml:31
ok: [veos01] => {
    "msg": "END eapi/default.yaml"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml:2
ok: [veos01] => {
    "msg": "START eapi/invalid_subset.yaml"
}

TASK [eos_facts : test invalid subset (foobar)] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml:5
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886 `" && echo ansible-tmp-1501029629.06-146321360202886="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpl7TLHz TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029629.06-146321360202886/" > /dev/null 2>&1 && sleep 0'
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": null, 
            "gather_subset": [
                "foobar"
            ], 
            "host": null, 
            "password": null, 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "msg": "Subset must be one of [hardware, default, interfaces, config], got foobar"
}
...ignoring

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml:14
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : test subset specified multiple times] ************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml:27
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769 `" && echo ansible-tmp-1501029630.37-177292721391769="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpuR7OkK TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029630.37-177292721391769/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "default"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_model": "vEOS", 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "!hardware", 
                "hardware"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml:36
fatal: [veos01]: FAILED! => {
    "assertion": "result.failed == true", 
    "changed": false, 
    "evaluated_to": false, 
    "failed": true
}
...ignoring

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/invalid_subset.yaml:48
ok: [veos01] => {
    "msg": "END eapi/invalid_subset.yaml"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml:2
ok: [veos01] => {
    "msg": "START eapi/not_hardware_facts.yaml"
}

TASK [eos_facts : test not hardware] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml:5
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_facts.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995 `" && echo ansible-tmp-1501029632.1-189408094627995="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpgLmhZF TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995/eos_facts.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995/eos_facts.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995/eos_facts.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029632.1-189408094627995/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "ansible_net_all_ipv4_addresses": [
            "172.26.4.24", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0", 
            "0.0.0.0"
        ], 
        "ansible_net_all_ipv6_addresses": [], 
        "ansible_net_config": {
            "cmds": {
                "! boot system flash:/vEOS-lab-4.15.4.swi": null, 
                "EOF": null, 
                "aaa authorization exec default local": null, 
                "banner login": null, 
                "banner motd": null, 
                "hostname veos01": null, 
                "interface Ethernet1": {
                    "cmds": {
                        "no switchport": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet2": {
                    "cmds": {
                        "description this is a test": null, 
                        "no switchport": null, 
                        "vrf forwarding test": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet3": {
                    "cmds": {
                        "no switchport": null, 
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet4": {
                    "cmds": {
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet5": {
                    "cmds": {
                        "no switchport": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet6": {
                    "cmds": {
                        "channel-group 1 mode active": null, 
                        "no switchport": null, 
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Ethernet7": {
                    "cmds": {
                        "channel-group 1 mode active": null, 
                        "shutdown": null
                    }, 
                    "comments": []
                }, 
                "interface Management1": {
                    "cmds": {
                        "ip address 172.26.4.24/24": null, 
                        "no lldp receive": null, 
                        "no lldp transmit": null
                    }, 
                    "comments": []
                }, 
                "interface Port-Channel1": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "interface Vlan102": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "ip access-list ext-test": {
                    "cmds": {
                        "10 permit tcp host 172.30.22.10 eq snmp imap any syn": null, 
                        "20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked": null
                    }, 
                    "comments": []
                }, 
                "ip access-list standard ans": {
                    "cmds": {
                        "10 permit 0.0.0.0/4 log ": null, 
                        "20 permit 6.7.8.0/24 log ": null, 
                        "30 permit any log ": null, 
                        "40 deny host 5.7.3.7": null, 
                        "50 permit host 5.7.3.7": null, 
                        "60 permit host 10.5.6.4": null
                    }, 
                    "comments": []
                }, 
                "ip access-list standard playbook": {
                    "cmds": {
                        "10 permit any log ": null, 
                        "100 permit 10.10.10.2 255.255.255.0": null, 
                        "110 permit 10.10.10.2 255.0.0.0": null, 
                        "20 deny host 1.2.3.4": null, 
                        "40 permit any log ": null, 
                        "50 deny host 77.88.99.1": null, 
                        "60 deny host 10.1.1.1": null, 
                        "70 deny 0.0.0.0/0": null, 
                        "80 permit host 0.0.0.0": null, 
                        "90 permit 10.0.0.0/8": null
                    }, 
                    "comments": []
                }, 
                "ip access-list test": {
                    "cmds": {
                        "10 permit ip any any log ": null
                    }, 
                    "comments": []
                }, 
                "ip domain lookup vrf ansible source-interface Management1": null, 
                "ip name-server vrf default 1.1.1.1": null, 
                "ip name-server vrf default 2.2.2.2": null, 
                "ip route 0.0.0.0/0 172.26.4.1": null, 
                "ip route 172.16.44.0/24 172.26.4.1 67": null, 
                "ip route 172.16.44.0/24 172.26.4.1 68": null, 
                "logging facility syslog": null, 
                "maintenance": {
                    "cmds": {
                        "bgp dd": {
                            "cmds": {}, 
                            "comments": []
                        }, 
                        "interface Ethernet1": {
                            "cmds": {
                                "quiesce": null
                            }, 
                            "comments": []
                        }
                    }, 
                    "comments": []
                }, 
                "management api http-commands": {
                    "cmds": {
                        "no shutdown": null, 
                        "protocol http": null, 
                        "protocol unix-socket": null
                    }, 
                    "comments": []
                }, 
                "no aaa root": null, 
                "no ip routing": null, 
                "no ip routing vrf mgmt": null, 
                "no ip routing vrf test": null, 
                "no logging buffered": null, 
                "no logging console": null, 
                "ntp server 0.us.pool.ntp.org": null, 
                "ntp server 1.us.pool.ntp.org": null, 
                "ntp server 2.us.pool.ntp.org": null, 
                "ntp server 3.us.pool.ntp.org": null, 
                "ntp source Management1": null, 
                "role test": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "spanning-tree mode mstp": null, 
                "string": null, 
                "that has a multiline": null, 
                "this is my login banner": null, 
                "this is my motd banner": null, 
                "transceiver qsfp default-mode 4x10G": null, 
                "username admin privilege 15 role network-admin secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.": null, 
                "vlan 2-9,55": {
                    "cmds": {}, 
                    "comments": []
                }, 
                "vlan 21": {
                    "cmds": {
                        "name test-vlan": null
                    }, 
                    "comments": []
                }, 
                "vlan 22": {
                    "cmds": {
                        "name test-vlan-1": null
                    }, 
                    "comments": []
                }, 
                "vlan 23": {
                    "cmds": {
                        "name test-vlan-2": null
                    }, 
                    "comments": []
                }, 
                "vlan 4000": {
                    "cmds": {
                        "name test-vlan2": null, 
                        "state suspend": null
                    }, 
                    "comments": []
                }, 
                "vrf definition mgmt": {
                    "cmds": {
                        "rd 1:101": null
                    }, 
                    "comments": []
                }, 
                "vrf definition test": {
                    "cmds": {
                        "rd 1:201": null
                    }, 
                    "comments": []
                }
            }, 
            "comments": [], 
            "header": [
                "! device: veos01 (vEOS, EOS-4.15.4F)\n!\n"
            ]
        }, 
        "ansible_net_fqdn": "veos01", 
        "ansible_net_gather_subset": [
            "default", 
            "interfaces", 
            "config"
        ], 
        "ansible_net_hostname": "veos01", 
        "ansible_net_image": "flash:/vEOS-lab-4.15.4.swi", 
        "ansible_net_interfaces": {
            "Ethernet1": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet2": {
                "bandwidth": 0, 
                "description": "this is a test", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet3": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "disabled", 
                "type": "routed"
            }, 
            "Ethernet4": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:76:2a", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "bridged"
            }, 
            "Ethernet5": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "0.0.0.0", 
                    "masklen": 0
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Ethernet6": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:af:87", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Ethernet7": {
                "bandwidth": 0, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {}, 
                "lineprotocol": "down", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "disabled", 
                "type": "dataLink"
            }, 
            "Management1": {
                "bandwidth": 1000000000, 
                "description": "", 
                "duplex": "duplexFull", 
                "ipv4": {
                    "address": "172.26.4.24", 
                    "masklen": 24
                }, 
                "lineprotocol": "up", 
                "macaddress": "00:50:56:bc:1d:fd", 
                "mtu": 1500, 
                "operstatus": "connected", 
                "type": "routed"
            }, 
            "Port-Channel1": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:bc:2b:51", 
                "mtu": 9214, 
                "operstatus": "notconnect", 
                "type": "bridged"
            }, 
            "Vlan102": {
                "bandwidth": 0, 
                "description": "", 
                "ipv4": {}, 
                "lineprotocol": "lowerLayerDown", 
                "macaddress": "00:50:56:4a:00:9e", 
                "mtu": 1500, 
                "operstatus": "notconnect", 
                "type": "routed"
            }
        }, 
        "ansible_net_model": "vEOS", 
        "ansible_net_neighbors": {}, 
        "ansible_net_serialnum": "", 
        "ansible_net_version": "4.15.4F"
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "gather_subset": [
                "!hardware"
            ], 
            "host": "veos01", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "timeout": 10, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }
}

TASK [eos_facts : assert] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml:12
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_facts : debug] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tests/eapi/not_hardware.yaml:30
ok: [veos01] => {
    "msg": "END eapi/not_hardware_facts.yaml"
}

TASK [eos_facts : disable eapi] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_facts/tasks/eapi.yaml:25
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119 `" && echo ansible-tmp-1501029639.05-100495919987119="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpjT_gMe TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029639.05-100495919987119/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "shutdown"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "stopped", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029640"
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180 `" && echo ansible-tmp-1501029650.55-114339265618180="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpIg_ZPx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029650.55-114339265618180/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029652", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159 `" && echo ansible-tmp-1501029659.33-77855728661159="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp9bNrLv TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029659.33-77855728661159/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029661", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_eapi : collect all cli test cases] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tasks/cli.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054 `" && echo ansible-tmp-1501029664.07-112298184842054="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp6I8yCm TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029664.07-112298184842054/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 9, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796735, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 296, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796736, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 957, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796737, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1011, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796738, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1175, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796739, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1147, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796740, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 776, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796741, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 777, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027275.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796742, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1165, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 8, 
    "msg": ""
}

TASK [eos_eapi : set test_items] ***********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_eapi : run test case] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml for veos01

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml:1
ok: [veos01] => {
    "msg": "START CLI/BADTRANSPORT.YAML"
}

TASK [eos_eapi : Expect transport other than cli to fail] **********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml:3
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407 `" && echo ansible-tmp-1501029666.0-39842862322407="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpFknTZG TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029666.0-39842862322407/" > /dev/null 2>&1 && sleep 0'
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": null, 
            "config": null, 
            "host": null, 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": null, 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 10, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": null, 
            "use_ssl": null, 
            "username": null, 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "msg": "eos_eapi module is only supported over cli transport"
}
...ignoring

TASK [eos_eapi : assert] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml:10
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/badtransport.yaml:13
ok: [veos01] => {
    "msg": "START CLI/BADTRANSPORT.YAML"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:1
ok: [veos01] => {
    "msg": "START cli/config.yaml"
}

TASK [eos_eapi : Setup] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:5
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002 `" && echo ansible-tmp-1501029671.13-117007226530002="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1Uvh89 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029671.13-117007226530002/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no management api http-commands"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029672-session-config\n@@ -137,9 +137,5 @@\n string\n EOF\n !\n-management api http-commands\n-   protocol http\n-   protocol unix-socket\n-!\n !\n end"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no management api http-commands"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029672", 
    "updates": [
        "no management api http-commands"
    ]
}

TASK [eos_eapi : Get running-config] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:12
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150 `" && echo ansible-tmp-1501029679.47-193059972928150="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpgJ7KZT TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029679.47-193059972928150/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show running-config"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\n!\nend"
    ], 
    "stdout_lines": [
        [
            "! Command: show running-config", 
            "! device: veos01 (vEOS, EOS-4.15.4F)", 
            "!", 
            "! boot system flash:/vEOS-lab-4.15.4.swi", 
            "!", 
            "transceiver qsfp default-mode 4x10G", 
            "!", 
            "no logging buffered", 
            "no logging console", 
            "logging facility syslog", 
            "!", 
            "hostname veos01", 
            "ip domain lookup vrf ansible source-interface Management1", 
            "ip name-server vrf default 1.1.1.1", 
            "ip name-server vrf default 2.2.2.2", 
            "!", 
            "ntp source Management1", 
            "ntp server 0.us.pool.ntp.org", 
            "ntp server 1.us.pool.ntp.org", 
            "ntp server 2.us.pool.ntp.org", 
            "ntp server 3.us.pool.ntp.org", 
            "!", 
            "spanning-tree mode mstp", 
            "!", 
            "aaa authorization exec default local", 
            "!", 
            "no aaa root", 
            "!", 
            "username ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.", 
            "!", 
            "role test", 
            "!", 
            "vlan 2-9,55", 
            "!", 
            "vlan 21", 
            "   name test-vlan", 
            "!", 
            "vlan 22", 
            "   name test-vlan-1", 
            "!", 
            "vlan 23", 
            "   name test-vlan-2", 
            "!", 
            "vlan 4000", 
            "   name test-vlan2", 
            "   state suspend", 
            "!", 
            "vrf definition mgmt", 
            "   rd 1:101", 
            "!", 
            "vrf definition test", 
            "   rd 1:201", 
            "!", 
            "interface Port-Channel1", 
            "!", 
            "interface Ethernet1", 
            "   no switchport", 
            "!", 
            "interface Ethernet2", 
            "   description this is a test", 
            "   no switchport", 
            "   vrf forwarding test", 
            "!", 
            "interface Ethernet3", 
            "   shutdown", 
            "   no switchport", 
            "!", 
            "interface Ethernet4", 
            "   shutdown", 
            "!", 
            "interface Ethernet5", 
            "   no switchport", 
            "!", 
            "interface Ethernet6", 
            "   shutdown", 
            "   no switchport", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Ethernet7", 
            "   shutdown", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Management1", 
            "   ip address 172.26.4.24/24", 
            "   no lldp transmit", 
            "   no lldp receive", 
            "!", 
            "interface Vlan102", 
            "!", 
            "ip access-list ext-test", 
            "   10 permit tcp host 172.30.22.10 eq snmp imap any syn", 
            "   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked", 
            "!", 
            "ip access-list test", 
            "   10 permit ip any any log ", 
            "!", 
            "ip access-list standard ans", 
            "   10 permit 0.0.0.0/4 log ", 
            "   20 permit 6.7.8.0/24 log ", 
            "   30 permit any log ", 
            "   40 deny host 5.7.3.7", 
            "   50 permit host 5.7.3.7", 
            "   60 permit host 10.5.6.4", 
            "!", 
            "ip access-list standard playbook", 
            "   10 permit any log ", 
            "   20 deny host 1.2.3.4", 
            "   40 permit any log ", 
            "   50 deny host 77.88.99.1", 
            "   60 deny host 10.1.1.1", 
            "   70 deny 0.0.0.0/0", 
            "   80 permit host 0.0.0.0", 
            "   90 permit 10.0.0.0/8", 
            "   100 permit 10.10.10.2 255.255.255.0", 
            "   110 permit 10.10.10.2 255.0.0.0", 
            "!", 
            "ip route 0.0.0.0/0 172.26.4.1", 
            "ip route 172.16.44.0/24 172.26.4.1 67", 
            "ip route 172.16.44.0/24 172.26.4.1 68", 
            "!", 
            "no ip routing", 
            "no ip routing vrf test", 
            "no ip routing vrf mgmt", 
            "!", 
            "maintenance", 
            "   bgp dd", 
            "   interface Ethernet1", 
            "      quiesce", 
            "!", 
            "banner login", 
            "this is my login banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "banner motd", 
            "this is my motd banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "!", 
            "!", 
            "end"
        ]
    ]
}

TASK [eos_eapi : Set config] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:19
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046 `" && echo ansible-tmp-1501029685.41-133815146717046="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpf2axp9 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029685.41-133815146717046/" > /dev/null 2>&1 && sleep 0'
 [WARNING]: config parameter is no longer necessary and will be ignored
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "no shutdown"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\n!\nend", 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029686"
}

TASK [eos_eapi : Ensure that this triggered a change] **************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:26
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Get running-config again] *************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:32
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046 `" && echo ansible-tmp-1501029697.16-242832614830046="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpl_Z_PZ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029697.16-242832614830046/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show running-config"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   no shutdown\n!\n!\nend"
    ], 
    "stdout_lines": [
        [
            "! Command: show running-config", 
            "! device: veos01 (vEOS, EOS-4.15.4F)", 
            "!", 
            "! boot system flash:/vEOS-lab-4.15.4.swi", 
            "!", 
            "transceiver qsfp default-mode 4x10G", 
            "!", 
            "no logging buffered", 
            "no logging console", 
            "logging facility syslog", 
            "!", 
            "hostname veos01", 
            "ip domain lookup vrf ansible source-interface Management1", 
            "ip name-server vrf default 1.1.1.1", 
            "ip name-server vrf default 2.2.2.2", 
            "!", 
            "ntp source Management1", 
            "ntp server 0.us.pool.ntp.org", 
            "ntp server 1.us.pool.ntp.org", 
            "ntp server 2.us.pool.ntp.org", 
            "ntp server 3.us.pool.ntp.org", 
            "!", 
            "spanning-tree mode mstp", 
            "!", 
            "aaa authorization exec default local", 
            "!", 
            "no aaa root", 
            "!", 
            "username ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.", 
            "!", 
            "role test", 
            "!", 
            "vlan 2-9,55", 
            "!", 
            "vlan 21", 
            "   name test-vlan", 
            "!", 
            "vlan 22", 
            "   name test-vlan-1", 
            "!", 
            "vlan 23", 
            "   name test-vlan-2", 
            "!", 
            "vlan 4000", 
            "   name test-vlan2", 
            "   state suspend", 
            "!", 
            "vrf definition mgmt", 
            "   rd 1:101", 
            "!", 
            "vrf definition test", 
            "   rd 1:201", 
            "!", 
            "interface Port-Channel1", 
            "!", 
            "interface Ethernet1", 
            "   no switchport", 
            "!", 
            "interface Ethernet2", 
            "   description this is a test", 
            "   no switchport", 
            "   vrf forwarding test", 
            "!", 
            "interface Ethernet3", 
            "   shutdown", 
            "   no switchport", 
            "!", 
            "interface Ethernet4", 
            "   shutdown", 
            "!", 
            "interface Ethernet5", 
            "   no switchport", 
            "!", 
            "interface Ethernet6", 
            "   shutdown", 
            "   no switchport", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Ethernet7", 
            "   shutdown", 
            "   channel-group 1 mode active", 
            "!", 
            "interface Management1", 
            "   ip address 172.26.4.24/24", 
            "   no lldp transmit", 
            "   no lldp receive", 
            "!", 
            "interface Vlan102", 
            "!", 
            "ip access-list ext-test", 
            "   10 permit tcp host 172.30.22.10 eq snmp imap any syn", 
            "   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked", 
            "!", 
            "ip access-list test", 
            "   10 permit ip any any log ", 
            "!", 
            "ip access-list standard ans", 
            "   10 permit 0.0.0.0/4 log ", 
            "   20 permit 6.7.8.0/24 log ", 
            "   30 permit any log ", 
            "   40 deny host 5.7.3.7", 
            "   50 permit host 5.7.3.7", 
            "   60 permit host 10.5.6.4", 
            "!", 
            "ip access-list standard playbook", 
            "   10 permit any log ", 
            "   20 deny host 1.2.3.4", 
            "   40 permit any log ", 
            "   50 deny host 77.88.99.1", 
            "   60 deny host 10.1.1.1", 
            "   70 deny 0.0.0.0/0", 
            "   80 permit host 0.0.0.0", 
            "   90 permit 10.0.0.0/8", 
            "   100 permit 10.10.10.2 255.255.255.0", 
            "   110 permit 10.10.10.2 255.0.0.0", 
            "!", 
            "ip route 0.0.0.0/0 172.26.4.1", 
            "ip route 172.16.44.0/24 172.26.4.1 67", 
            "ip route 172.16.44.0/24 172.26.4.1 68", 
            "!", 
            "no ip routing", 
            "no ip routing vrf test", 
            "no ip routing vrf mgmt", 
            "!", 
            "maintenance", 
            "   bgp dd", 
            "   interface Ethernet1", 
            "      quiesce", 
            "!", 
            "banner login", 
            "this is my login banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "banner motd", 
            "this is my motd banner", 
            "that has a multiline", 
            "string", 
            "EOF", 
            "!", 
            "management api http-commands", 
            "   no shutdown", 
            "!", 
            "!", 
            "end"
        ]
    ]
}

TASK [eos_eapi : Set config] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:39
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162 `" && echo ansible-tmp-1501029703.86-181927552163162="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp2bnFix TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029703.86-181927552163162/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": "! Command: show running-config\n! device: veos01 (vEOS, EOS-4.15.4F)\n!\n! boot system flash:/vEOS-lab-4.15.4.swi\n!\ntransceiver qsfp default-mode 4x10G\n!\nno logging buffered\nno logging console\nlogging facility syslog\n!\nhostname veos01\nip domain lookup vrf ansible source-interface Management1\nip name-server vrf default 1.1.1.1\nip name-server vrf default 2.2.2.2\n!\nntp source Management1\nntp server 0.us.pool.ntp.org\nntp server 1.us.pool.ntp.org\nntp server 2.us.pool.ntp.org\nntp server 3.us.pool.ntp.org\n!\nspanning-tree mode mstp\n!\naaa authorization exec default local\n!\nno aaa root\n!\nusername ******** privilege 15 role network-******** secret 5 $1$mdQIUxjg$3t3lzBpfKfITKvFm1uEIY.\n!\nrole test\n!\nvlan 2-9,55\n!\nvlan 21\n   name test-vlan\n!\nvlan 22\n   name test-vlan-1\n!\nvlan 23\n   name test-vlan-2\n!\nvlan 4000\n   name test-vlan2\n   state suspend\n!\nvrf definition mgmt\n   rd 1:101\n!\nvrf definition test\n   rd 1:201\n!\ninterface Port-Channel1\n!\ninterface Ethernet1\n   no switchport\n!\ninterface Ethernet2\n   description this is a test\n   no switchport\n   vrf forwarding test\n!\ninterface Ethernet3\n   shutdown\n   no switchport\n!\ninterface Ethernet4\n   shutdown\n!\ninterface Ethernet5\n   no switchport\n!\ninterface Ethernet6\n   shutdown\n   no switchport\n   channel-group 1 mode active\n!\ninterface Ethernet7\n   shutdown\n   channel-group 1 mode active\n!\ninterface Management1\n   ip address 172.26.4.24/24\n   no lldp transmit\n   no lldp receive\n!\ninterface Vlan102\n!\nip access-list ext-test\n   10 permit tcp host 172.30.22.10 eq snmp imap any syn\n   20 permit udp 172.33.214.0/24 range 80 85 0.0.0.0/4 tracked\n!\nip access-list test\n   10 permit ip any any log \n!\nip access-list standard ans\n   10 permit 0.0.0.0/4 log \n   20 permit 6.7.8.0/24 log \n   30 permit any log \n   40 deny host 5.7.3.7\n   50 permit host 5.7.3.7\n   60 permit host 10.5.6.4\n!\nip access-list standard playbook\n   10 permit any log \n   20 deny host 1.2.3.4\n   40 permit any log \n   50 deny host 77.88.99.1\n   60 deny host 10.1.1.1\n   70 deny 0.0.0.0/0\n   80 permit host 0.0.0.0\n   90 permit 10.0.0.0/8\n   100 permit 10.10.10.2 255.255.255.0\n   110 permit 10.10.10.2 255.0.0.0\n!\nip route 0.0.0.0/0 172.26.4.1\nip route 172.16.44.0/24 172.26.4.1 67\nip route 172.16.44.0/24 172.26.4.1 68\n!\nno ip routing\nno ip routing vrf test\nno ip routing vrf mgmt\n!\nmaintenance\n   bgp dd\n   interface Ethernet1\n      quiesce\n!\nbanner login\nthis is my login banner\nthat has a multiline\nstring\nEOF\nbanner motd\nthis is my motd banner\nthat has a multiline\nstring\nEOF\n!\nmanagement api http-commands\n   no shutdown\n!\n!\nend", 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : Idempotency check] ********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:47
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/config.yaml:52
ok: [veos01] => {
    "msg": "END cli/config.yaml"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:1
ok: [veos01] => {
    "msg": "START CLI/CONFIGURE.YAML"
}

TASK [eos_eapi : Change endpoint ports] ****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618 `" && echo ansible-tmp-1501029709.75-237035432836618="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp3xQAyo TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029709.75-237035432836618/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8181/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:4443"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "no protocol http", 
        "protocol https port 4443", 
        "protocol http localhost port 8181"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_http": false, 
            "enable_local_http": true, 
            "host": "veos01", 
            "http": false, 
            "http_port": 81, 
            "https": null, 
            "https_port": 4443, 
            "local_http": true, 
            "local_http_port": 8181, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029711"
}

TASK [eos_eapi : eos_command] **************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:14
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828 `" && echo ansible-tmp-1501029722.1-106729704965828="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpiQdtFC TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029722.1-106729704965828/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show management api http-commands | json"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": false, 
                "port": 80, 
                "running": false
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 4443, 
                "running": true
            }, 
            "lastHitTime": 1501029633.7724879, 
            "localHttpServer": {
                "configured": true, 
                "port": 8181, 
                "running": true
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": false, 
                "running": false
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:4443", 
                "Local       : http://localhost:8181/command-api"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.7728212, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.520445, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ], 
    "stdout_lines": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": false, 
                "port": 80, 
                "running": false
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 4443, 
                "running": true
            }, 
            "lastHitTime": 1501029633.7724879, 
            "localHttpServer": {
                "configured": true, 
                "port": 8181, 
                "running": true
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": false, 
                "running": false
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:4443", 
                "Local       : http://localhost:8181/command-api"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.7728212, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.520445, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ]
}

TASK [eos_eapi : Expect endpoint ports to be set] ******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:21
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Change endpoint ports again] **********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:28
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290 `" && echo ansible-tmp-1501029727.48-158982500103290="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpROeEFB TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029727.48-158982500103290/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8181/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:4443"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_local_http": true, 
            "host": "veos01", 
            "http": null, 
            "http_port": 80, 
            "https": null, 
            "https_port": 4443, 
            "local_http": true, 
            "local_http_port": 8181, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : Expect action to be idempotent] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:38
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/configure.yaml:43
ok: [veos01] => {
    "msg": "END CLI/CONFIGURE.YAML"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:1
ok: [veos01] => {
    "msg": "START CLI/OFF.YAML"
}

TASK [eos_eapi : Turn all endpoints off] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389 `" && echo ansible-tmp-1501029733.22-205373195417389="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmps0LoJu TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029733.22-205373195417389/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {}
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "no protocol https", 
        "no protocol http localhost"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_http": false, 
            "enable_https": false, 
            "enable_local_http": false, 
            "enable_socket": false, 
            "host": "veos01", 
            "http": false, 
            "http_port": null, 
            "https": false, 
            "https_port": null, 
            "local_http": false, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": false, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029734"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:13
ok: [veos01] => {
    "eos_eapi_output": {
        "ansible_facts": {
            "eos_eapi_urls": {}
        }, 
        "changed": true, 
        "commands": [
            "management api http-commands", 
            "no protocol https", 
            "no protocol http localhost"
        ], 
        "failed": false, 
        "session_name": "ansible_1501029734"
    }
}

TASK [eos_eapi : eos_command] **************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:15
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470 `" && echo ansible-tmp-1501029744.6-173145159352470="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp9cMPQU TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029744.6-173145159352470/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show management api http-commands | json"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": false, 
                "port": 80, 
                "running": false
            }, 
            "httpsServer": {
                "configured": false, 
                "port": 443, 
                "running": false
            }, 
            "lastHitTime": 1501029633.7724867, 
            "localHttpServer": {
                "configured": false, 
                "port": 8080, 
                "running": false
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": false, 
                "running": false
            }, 
            "urls": [], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.772834, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.5204453, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ], 
    "stdout_lines": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": false, 
                "port": 80, 
                "running": false
            }, 
            "httpsServer": {
                "configured": false, 
                "port": 443, 
                "running": false
            }, 
            "lastHitTime": 1501029633.7724867, 
            "localHttpServer": {
                "configured": false, 
                "port": 8080, 
                "running": false
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": false, 
                "running": false
            }, 
            "urls": [], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.772834, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.5204453, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ]
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:22
ok: [veos01] => {
    "http_config": {
        "changed": false, 
        "failed": false, 
        "stdout": [
            {
                "bytesIn": 9872264, 
                "bytesOut": 57014615, 
                "commandCount": 180000, 
                "corsOrigins": [], 
                "dscpValue": 0, 
                "enabled": true, 
                "executionTime": 19368.010134632546, 
                "hitCount": 53063, 
                "httpServer": {
                    "configured": false, 
                    "port": 80, 
                    "running": false
                }, 
                "httpsServer": {
                    "configured": false, 
                    "port": 443, 
                    "running": false
                }, 
                "lastHitTime": 1501029633.7724867, 
                "localHttpServer": {
                    "configured": false, 
                    "port": 8080, 
                    "running": false
                }, 
                "requestCount": 52579, 
                "unixSocketServer": {
                    "configured": false, 
                    "running": false
                }, 
                "urls": [], 
                "users": {
                    "admin": {
                        "bytesIn": 9871430, 
                        "bytesOut": 57012826, 
                        "lastHitTime": 1501029633.772834, 
                        "requestCount": 52575
                    }, 
                    "test": {
                        "bytesIn": 834, 
                        "bytesOut": 1789, 
                        "lastHitTime": 1488491847.5204453, 
                        "requestCount": 4
                    }
                }, 
                "vrf": "default"
            }
        ], 
        "stdout_lines": [
            {
                "bytesIn": 9872264, 
                "bytesOut": 57014615, 
                "commandCount": 180000, 
                "corsOrigins": [], 
                "dscpValue": 0, 
                "enabled": true, 
                "executionTime": 19368.010134632546, 
                "hitCount": 53063, 
                "httpServer": {
                    "configured": false, 
                    "port": 80, 
                    "running": false
                }, 
                "httpsServer": {
                    "configured": false, 
                    "port": 443, 
                    "running": false
                }, 
                "lastHitTime": 1501029633.7724867, 
                "localHttpServer": {
                    "configured": false, 
                    "port": 8080, 
                    "running": false
                }, 
                "requestCount": 52579, 
                "unixSocketServer": {
                    "configured": false, 
                    "running": false
                }, 
                "urls": [], 
                "users": {
                    "admin": {
                        "bytesIn": 9871430, 
                        "bytesOut": 57012826, 
                        "lastHitTime": 1501029633.772834, 
                        "requestCount": 52575
                    }, 
                    "test": {
                        "bytesIn": 834, 
                        "bytesOut": 1789, 
                        "lastHitTime": 1488491847.5204453, 
                        "requestCount": 4
                    }
                }, 
                "vrf": "default"
            }
        ]
    }
}

TASK [eos_eapi : Expect all EAPI endpoints to be in off state] *****************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:24
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Turn all endpoints off again] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:32
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527 `" && echo ansible-tmp-1501029749.5-42320664570527="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmplqC7Wm TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029749.5-42320664570527/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {}
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_http": false, 
            "enable_https": false, 
            "enable_local_http": false, 
            "enable_socket": false, 
            "host": "veos01", 
            "http": false, 
            "http_port": null, 
            "https": false, 
            "https_port": null, 
            "local_http": false, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": false, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:42
skipping: [veos01] => {
    "skip_reason": "Conditional result was False"
}

TASK [eos_eapi : Expect action to be idempotent] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:45
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/off.yaml:50
ok: [veos01] => {
    "msg": "END CLI/OFF.YAML"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:1
ok: [veos01] => {
    "msg": "START CLI/ON.YAML"
}

TASK [eos_eapi : Turn on all endpoints] ****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785 `" && echo ansible-tmp-1501029754.71-25694386867785="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpvhlaCp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029754.71-25694386867785/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8080/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "protocol http port 80", 
        "protocol https port 443", 
        "protocol http localhost port 8080", 
        "protocol unix-socket"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_http": true, 
            "enable_https": true, 
            "enable_local_http": true, 
            "enable_socket": true, 
            "host": "veos01", 
            "http": true, 
            "http_port": null, 
            "https": true, 
            "https_port": null, 
            "local_http": true, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": true, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029755"
}

TASK [eos_eapi : eos_command] **************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:13
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046 `" && echo ansible-tmp-1501029767.26-114473072137046="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpg3wPWz TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029767.26-114473072137046/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show management api http-commands | json"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": true, 
                "port": 80, 
                "running": true
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 443, 
                "running": true
            }, 
            "lastHitTime": 1501029633.7724857, 
            "localHttpServer": {
                "configured": true, 
                "port": 8080, 
                "running": true
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": true, 
                "running": true
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:443", 
                "Management1 : http://172.26.4.24:80", 
                "Unix Socket : unix:/var/run/command-api.sock", 
                "Local       : http://localhost:8080/command-api"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.7728355, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.520446, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ], 
    "stdout_lines": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": true, 
                "port": 80, 
                "running": true
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 443, 
                "running": true
            }, 
            "lastHitTime": 1501029633.7724857, 
            "localHttpServer": {
                "configured": true, 
                "port": 8080, 
                "running": true
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": true, 
                "running": true
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:443", 
                "Management1 : http://172.26.4.24:80", 
                "Unix Socket : unix:/var/run/command-api.sock", 
                "Local       : http://localhost:8080/command-api"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.7728355, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.520446, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ]
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:20
skipping: [veos01] => {
    "skip_reason": "Conditional result was False"
}

TASK [eos_eapi : Expect all EAPI endpoints to be in on state] ******************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:23
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Turn on all endpoints again] **********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:31
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124 `" && echo ansible-tmp-1501029772.2-52759956267124="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpajCezl TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029772.2-52759956267124/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8080/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_http": true, 
            "enable_https": true, 
            "enable_local_http": true, 
            "enable_socket": true, 
            "host": "veos01", 
            "http": true, 
            "http_port": null, 
            "https": true, 
            "https_port": null, 
            "local_http": true, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": true, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:41
ok: [veos01] => {
    "eos_eapi_output": {
        "ansible_facts": {
            "eos_eapi_urls": {
                "Local": [
                    "http://localhost:8080/command-api"
                ], 
                "Management1": [
                    "https://172.26.4.24:443", 
                    "http://172.26.4.24:80"
                ], 
                "Unix Socket": [
                    "unix:/var/run/command-api.sock"
                ]
            }
        }, 
        "changed": false, 
        "commands": [], 
        "failed": false
    }
}

TASK [eos_eapi : Expect action to be idempotent] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:43
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/on.yaml:48
ok: [veos01] => {
    "msg": "START CLI/ON.YAML"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:1
ok: [veos01] => {
    "msg": "START CLI/START.YAML"
}

TASK [eos_eapi : Set state to started] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121 `" && echo ansible-tmp-1501029777.33-262191132659121="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp5tU9v_ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029777.33-262191132659121/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8080/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : eos_command] **************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781 `" && echo ansible-tmp-1501029782.29-246577954819781="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpXUwVNc TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029782.29-246577954819781/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show management api http-commands | json"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": true, 
                "port": 80, 
                "running": true
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 443, 
                "running": true
            }, 
            "lastHitTime": 1501029633.7724838, 
            "localHttpServer": {
                "configured": true, 
                "port": 8080, 
                "running": true
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": true, 
                "running": true
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:443", 
                "Management1 : http://172.26.4.24:80", 
                "Unix Socket : unix:/var/run/command-api.sock", 
                "Local       : http://localhost:8080/command-api"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.7728317, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.5204434, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ], 
    "stdout_lines": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": true, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": true, 
                "port": 80, 
                "running": true
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 443, 
                "running": true
            }, 
            "lastHitTime": 1501029633.7724838, 
            "localHttpServer": {
                "configured": true, 
                "port": 8080, 
                "running": true
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": true, 
                "running": true
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:443", 
                "Management1 : http://172.26.4.24:80", 
                "Unix Socket : unix:/var/run/command-api.sock", 
                "Local       : http://localhost:8080/command-api"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.7728317, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.5204434, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ]
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:17
skipping: [veos01] => {
    "skip_reason": "Conditional result was False"
}

TASK [eos_eapi : Expect EAPI state is on] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:20
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Set state to running again] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:24
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151 `" && echo ansible-tmp-1501029787.41-154628184961151="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp2pYZBx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029787.41-154628184961151/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8080/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:31
skipping: [veos01] => {
    "skip_reason": "Conditional result was False"
}

TASK [eos_eapi : Expect action to be idempotent] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:34
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/start.yaml:39
ok: [veos01] => {
    "msg": "STOP CLI/START.YAML"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:1
ok: [veos01] => {
    "msg": "START CLI/STOP.YAML"
}

TASK [eos_eapi : Set state to stopped] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395 `" && echo ansible-tmp-1501029792.96-169045528812395="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpLEGUmO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029792.96-169045528812395/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "shutdown"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "stopped", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029794"
}

TASK [eos_eapi : eos_command] **************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_command.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383 `" && echo ansible-tmp-1501029805.64-263309562418383="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpoyUhwv TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383/eos_command.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383/eos_command.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383/eos_command.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029805.64-263309562418383/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "commands": [
                "show management api http-commands | json"
            ], 
            "host": "veos01", 
            "interval": 1, 
            "match": "all", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "retries": 10, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true, 
            "wait_for": null
        }
    }, 
    "stdout": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": false, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": true, 
                "port": 80, 
                "running": false
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 443, 
                "running": false
            }, 
            "lastHitTime": 1501029633.7724848, 
            "localHttpServer": {
                "configured": true, 
                "port": 8080, 
                "running": false
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": true, 
                "running": false
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:443", 
                "Management1 : http://172.26.4.24:80"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.772834, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.5204442, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ], 
    "stdout_lines": [
        {
            "bytesIn": 9872264, 
            "bytesOut": 57014615, 
            "commandCount": 180000, 
            "corsOrigins": [], 
            "dscpValue": 0, 
            "enabled": false, 
            "executionTime": 19368.010134632546, 
            "hitCount": 53063, 
            "httpServer": {
                "configured": true, 
                "port": 80, 
                "running": false
            }, 
            "httpsServer": {
                "configured": true, 
                "port": 443, 
                "running": false
            }, 
            "lastHitTime": 1501029633.7724848, 
            "localHttpServer": {
                "configured": true, 
                "port": 8080, 
                "running": false
            }, 
            "requestCount": 52579, 
            "unixSocketServer": {
                "configured": true, 
                "running": false
            }, 
            "urls": [
                "Management1 : https://172.26.4.24:443", 
                "Management1 : http://172.26.4.24:80"
            ], 
            "users": {
                "admin": {
                    "bytesIn": 9871430, 
                    "bytesOut": 57012826, 
                    "lastHitTime": 1501029633.772834, 
                    "requestCount": 52575
                }, 
                "test": {
                    "bytesIn": 834, 
                    "bytesOut": 1789, 
                    "lastHitTime": 1488491847.5204442, 
                    "requestCount": 4
                }
            }, 
            "vrf": "default"
        }
    ]
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:17
skipping: [veos01] => {
    "skip_reason": "Conditional result was False"
}

TASK [eos_eapi : Expect EAPI state is off] *************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:20
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Set state to stopped again] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:24
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937 `" && echo ansible-tmp-1501029810.74-54408170274937="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmptJ5JNK TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029810.74-54408170274937/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "stopped", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:31
skipping: [veos01] => {
    "skip_reason": "Conditional result was False"
}

TASK [eos_eapi : Expect action to be idempotent] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:34
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/stop.yaml:39
ok: [veos01] => {
    "msg": "STOP CLI/ENABLE.YAML"
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:1
ok: [veos01] => {
    "msg": "START cli/vrf.yaml"
}

TASK [eos_eapi : Set invalid VRF] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:5
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124 `" && echo ansible-tmp-1501029816.13-26262570727124="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpogbZZm TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029816.13-26262570727124/" > /dev/null 2>&1 && sleep 0'
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "foobar"
        }
    }, 
    "msg": "vrf `foobar` is not configured on the system"
}
...ignoring

TASK [eos_eapi : Ensure that setting VRF failed] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:13
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : Set VRF to default] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:21
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253 `" && echo ansible-tmp-1501029821.24-117024172857253="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmplkFesE TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029821.24-117024172857253/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8080/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "no shutdown"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501029822"
}

TASK [eos_eapi : Set VRF to default again (idempotent)] ************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:30
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360 `" && echo ansible-tmp-1501029832.71-242945587887360="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmph2nOTp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029832.71-242945587887360/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Local": [
                "http://localhost:8080/command-api"
            ], 
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "host": "veos01", 
            "http": null, 
            "http_port": null, 
            "https": null, 
            "https_port": null, 
            "local_http": null, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": null, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }
}

TASK [eos_eapi : Ensure idempotent] ********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:37
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_eapi : DEBUG show vrf] ***********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:46
skipping: [veos01] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}

TASK [eos_eapi : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_eapi/tests/cli/vrf.yaml:57
ok: [veos01] => {
    "msg": "END cli/vrf.yaml"
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918 `" && echo ansible-tmp-1501029837.92-219718003970918="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpB22g0D TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029837.92-219718003970918/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029839", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474 `" && echo ansible-tmp-1501029846.14-11716560640474="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp92PAvO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029846.14-11716560640474/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029847", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_system : collect all cli test cases] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/cli.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762 `" && echo ansible-tmp-1501029850.85-54092162084762="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpU1QOED TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029850.85-54092162084762/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 5, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027455.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796773, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2402, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027455.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796774, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 650, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027455.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796775, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 624, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027455.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796776, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1469, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027455.0, 
            "ctime": 1496844014.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 796777, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1496844014.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1933, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 5, 
    "msg": ""
}

TASK [eos_system : set test_items] *********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_system : run test case] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml for veos01

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:2
ok: [veos01] => {
    "msg": "START cli/set_domain_list.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312 `" && echo ansible-tmp-1501029856.33-75570975484312="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpXkPBuK TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029856.33-75570975484312/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-list ansible.com", 
                "no ip domain-list redhat.com"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029857", 
    "updates": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com"
    ]
}

TASK [eos_system : configure domain_list] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:12
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239 `" && echo ansible-tmp-1501029864.16-232617045239="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp9CMqdL TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029864.16-232617045239/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip domain-list redhat.com", 
        "ip domain-list ansible.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029865"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:20
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify domain_list] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:26
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794 `" && echo ansible-tmp-1501029872.22-6848604754794="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpN13qCA TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029872.22-6848604754794/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:34
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : remove one entry] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:38
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035 `" && echo ansible-tmp-1501029878.2-203814918134035="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpNMksSQ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029878.2-203814918134035/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list redhat.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029879"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:45
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify remove one entry] ************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:50
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369 `" && echo ansible-tmp-1501029886.52-62359979467369="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpagL6wM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029886.52-62359979467369/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:57
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : add one entry] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:61
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853 `" && echo ansible-tmp-1501029892.06-168662178028853="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpmFC3d9 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029892.06-168662178028853/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip domain-list redhat.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029893"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:69
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify add one entry] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:74
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605 `" && echo ansible-tmp-1501029900.31-226988174209605="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp5z5lFA TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029900.31-226988174209605/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:82
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : add and remove one entry] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:86
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768 `" && echo ansible-tmp-1501029905.59-231660478277768="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpMzvWM2 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029905.59-231660478277768/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list redhat.com", 
        "ip domain-list eng.ansible.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "eng.ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029907"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:94
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify add and remove one entry] ****************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:101
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847 `" && echo ansible-tmp-1501029913.72-230934558609847="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpsWR2yM TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029913.72-230934558609847/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "eng.ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:109
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:113
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587 `" && echo ansible-tmp-1501029918.93-114883404895587="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmplyiGOp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029918.93-114883404895587/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com", 
        "no ip domain-list eng.ansible.com"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029920-session-config\n@@ -12,8 +12,6 @@\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n-ip domain-list ansible.com\n-ip domain-list eng.ansible.com\n !\n ntp source Management1\n ntp server 0.us.pool.ntp.org"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-list ansible.com", 
                "no ip domain-list redhat.com", 
                "no ip domain-list eng.ansible.com"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029920", 
    "updates": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com", 
        "no ip domain-list eng.ansible.com"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_list.yaml:122
ok: [veos01] => {
    "msg": "END cli/set_domain_list.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:2
ok: [veos01] => {
    "msg": "START cli/set_domain_name.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971 `" && echo ansible-tmp-1501029926.87-31452330521971="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmplKvfST TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029926.87-31452330521971/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-name"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-name"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029927", 
    "updates": [
        "no ip domain-name"
    ]
}

TASK [eos_system : configure domain_name] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665 `" && echo ansible-tmp-1501029933.88-272579758548665="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpDiD81N TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029933.88-272579758548665/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip domain-name eng.ansible.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": "eng.ansible.com", 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029935"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:16
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify domain_name] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:20
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505 `" && echo ansible-tmp-1501029941.6-154522257330505="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp74DoFA TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029941.6-154522257330505/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": "eng.ansible.com", 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:26
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:30
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556 `" && echo ansible-tmp-1501029946.84-176894109596556="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpg4CVk7 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029946.84-176894109596556/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-name"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029948-session-config\n@@ -12,7 +12,6 @@\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n-ip domain-name eng.ansible.com\n !\n ntp source Management1\n ntp server 0.us.pool.ntp.org"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-name"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029948", 
    "updates": [
        "no ip domain-name"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_domain_name.yaml:36
ok: [veos01] => {
    "msg": "END cli/set_domain_name.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:2
ok: [veos01] => {
    "msg": "START cli/set_hostname.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686 `" && echo ansible-tmp-1501029954.78-86396526602686="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpdK0sSZ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029954.78-86396526602686/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname switch"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029956-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname veos01\n+hostname switch\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname switch"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029956", 
    "updates": [
        "hostname switch"
    ]
}

TASK [eos_system : configure hostname] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215 `" && echo ansible-tmp-1501029963.29-72249307161215="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpgWMtQl TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029963.29-72249307161215/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname foo"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": "foo", 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029965"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:16
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify hostname] ********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:20
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604 `" && echo ansible-tmp-1501029972.12-277295059784604="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp4bJUAO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029972.12-277295059784604/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": "foo", 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:26
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:30
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064 `" && echo ansible-tmp-1501029977.6-84311088259064="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpOUHDjz TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029977.6-84311088259064/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029979-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname foo\n+hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029979", 
    "updates": [
        "hostname veos01"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_hostname.yaml:36
ok: [veos01] => {
    "msg": "END cli/set_hostname.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:2
ok: [veos01] => {
    "msg": "START cli/set_lookup_source.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611 `" && echo ansible-tmp-1501029986.39-100358449739611="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpaeci_c TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029986.39-100358449739611/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface", 
        "vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501029988-session-config\n@@ -43,6 +43,8 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n+!\n+vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -118,6 +120,7 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n+no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain lookup source-interface", 
                "vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501029988", 
    "updates": [
        "no ip domain lookup source-interface", 
        "vrf definition ansible"
    ]
}

TASK [eos_system : configure lookup_source] ************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:12
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623 `" && echo ansible-tmp-1501029995.09-95007065177623="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpMWfuzy TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501029995.09-95007065177623/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup vrf ansible source-interface Management1", 
        "ip domain lookup source-interface Management1"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                "Management1"
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501029997"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:18
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify lookup_source] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:23
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285 `" && echo ansible-tmp-1501030004.39-246764803351285="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp2t_waT TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030004.39-246764803351285/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                "Management1"
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:29
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : change to vrf] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:33
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038 `" && echo ansible-tmp-1501030009.66-260643645469038="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpKwu59N TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030009.66-260643645469038/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface Management1", 
        "ip domain lookup vrf ansible source-interface Management1"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                {
                    "interface": "Management1", 
                    "vrf": "ansible"
                }
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501030012"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:41
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify change to vrf] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:48
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998 `" && echo ansible-tmp-1501030019.11-110924988996998="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp75hXbx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030019.11-110924988996998/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                {
                    "interface": "Management1", 
                    "vrf": "ansible"
                }
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:56
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:60
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595 `" && echo ansible-tmp-1501030024.7-117209396435595="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpXWYXL7 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030024.7-117209396435595/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030026-session-config\n@@ -43,8 +43,6 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n-!\n-vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -120,7 +118,6 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n-no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain lookup source-interface", 
                "no vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030026", 
    "updates": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_lookup_source.yaml:68
ok: [veos01] => {
    "msg": "END cli/set_lookup_source.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:2
ok: [veos01] => {
    "msg": "START cli/set_name_servers.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:4
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306 `" && echo ansible-tmp-1501030034.48-278673356341306="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpy_SdGE TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030034.48-278673356341306/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip name-server", 
        "vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030036-session-config\n@@ -10,8 +10,6 @@\n !\n hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n-ip name-server vrf default 1.1.1.1\n-ip name-server vrf default 2.2.2.2\n !\n ntp source Management1\n ntp server 0.us.pool.ntp.org\n@@ -43,6 +41,8 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n+!\n+vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -118,6 +118,7 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n+no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip name-server", 
                "vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030036", 
    "updates": [
        "no ip name-server", 
        "vrf definition ansible"
    ]
}

TASK [eos_system : configure name_servers] *************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:12
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382 `" && echo ansible-tmp-1501030043.62-128921389194382="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpCxU02Z TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030043.62-128921389194382/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip name-server 1.1.1.1", 
        "ip name-server 2.2.2.2", 
        "ip name-server 3.3.3.3"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": [
                "1.1.1.1", 
                "2.2.2.2", 
                "3.3.3.3"
            ], 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501030045"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:21
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify name_servers] ****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:29
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816 `" && echo ansible-tmp-1501030052.95-182499986668816="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpFhdWgn TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030052.95-182499986668816/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": [
                "1.1.1.1", 
                "2.2.2.2", 
                "3.3.3.3"
            ], 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:38
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : remove one] *************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:71
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320 `" && echo ansible-tmp-1501030058.33-15598004853320="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpAO1f5e TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030058.33-15598004853320/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip name-server 3.3.3.3"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": [
                "1.1.1.1", 
                "2.2.2.2"
            ], 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null
        }
    }, 
    "session_name": "ansible_1501030059"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:79
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:85
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223 `" && echo ansible-tmp-1501030066.68-132545714999223="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp0eIS_O TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030066.68-132545714999223/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030068-session-config\n@@ -43,8 +43,6 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n-!\n-vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -120,7 +118,6 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n-no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain lookup source-interface", 
                "no vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030068", 
    "updates": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/cli/set_name_servers.yaml:93
ok: [veos01] => {
    "msg": "END cli/set_name_servers.yaml"
}

TASK [eos_system : collect all eapi test cases] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/eapi.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735 `" && echo ansible-tmp-1501030071.77-234349348151735="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpltUlUS TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030071.77-234349348151735/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 5, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027684.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601747, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2574, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027684.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601748, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 720, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027684.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601749, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 694, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027684.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601750, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1573, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }, 
        {
            "atime": 1501027684.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601751, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2021, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 5, 
    "msg": ""
}

TASK [eos_system : set test_items] *********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/eapi.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml", 
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_system : enable eapi] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/eapi.yaml:11
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_eapi.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433 `" && echo ansible-tmp-1501030076.3-174842076217433="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp2lWL5o TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433/eos_eapi.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433/eos_eapi.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433/eos_eapi.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030076.3-174842076217433/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "ansible_facts": {
        "eos_eapi_urls": {
            "Management1": [
                "https://172.26.4.24:443", 
                "http://172.26.4.24:80"
            ], 
            "Unix Socket": [
                "unix:/var/run/command-api.sock"
            ]
        }
    }, 
    "changed": true, 
    "commands": [
        "management api http-commands", 
        "no protocol http localhost"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "config": null, 
            "enable_socket": true, 
            "host": "veos01", 
            "http": true, 
            "http_port": null, 
            "https": true, 
            "https_port": null, 
            "local_http": false, 
            "local_http_port": null, 
            "password": "admin", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "admin", 
                "validate_certs": null
            }, 
            "socket": true, 
            "ssh_keyfile": null, 
            "state": "started", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": null, 
            "username": "admin", 
            "validate_certs": null, 
            "vrf": "default"
        }
    }, 
    "session_name": "ansible_1501030078"
}

TASK [eos_system : run test case] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/eapi.yaml:19
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml for veos01
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml for veos01

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:2
ok: [veos01] => {
    "msg": "START eapi/set_domain_list.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307 `" && echo ansible-tmp-1501030085.26-61417935744307="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpUgdmUi TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030085.26-61417935744307/" > /dev/null 2>&1 && sleep 0'
 [WARNING]: argument timeout has been deprecated and will be removed in a
future version
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com"
    ], 
    "diff": {
        "prepared": "\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-list ansible.com", 
                "no ip domain-list redhat.com"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030086", 
    "updates": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com"
    ]
}

TASK [eos_system : configure domain_list] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:13
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679 `" && echo ansible-tmp-1501030089.53-128635813330679="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp1QFusS TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030089.53-128635813330679/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip domain-list redhat.com", 
        "ip domain-list ansible.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030092"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:22
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify domain_list] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:28
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644 `" && echo ansible-tmp-1501030095.94-210089205832644="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmptbsvWv TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030095.94-210089205832644/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:37
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : remove one entry] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:41
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908 `" && echo ansible-tmp-1501030098.25-152190869840908="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpVDoKAJ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030098.25-152190869840908/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list redhat.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030100"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:49
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify remove one entry] ************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:54
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164 `" && echo ansible-tmp-1501030103.34-160290188904164="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpYGIwiP TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030103.34-160290188904164/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:62
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : add one entry] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:66
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181 `" && echo ansible-tmp-1501030106.94-182586487707181="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpBjjpne TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030106.94-182586487707181/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip domain-list redhat.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030108"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:75
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify add one entry] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:80
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244 `" && echo ansible-tmp-1501030111.96-15026598147244="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmptACeYd TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030111.96-15026598147244/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "redhat.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:89
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : add and remove one entry] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:93
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582 `" && echo ansible-tmp-1501030114.77-131108150341582="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpp7SzFD TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030114.77-131108150341582/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list redhat.com", 
        "ip domain-list eng.ansible.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "eng.ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030117"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:102
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify add and remove one entry] ****************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:109
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805 `" && echo ansible-tmp-1501030120.52-265110423536805="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp9NDbHf TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030120.52-265110423536805/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": [
                "ansible.com", 
                "eng.ansible.com"
            ], 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:118
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:122
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150 `" && echo ansible-tmp-1501030122.83-184137710439150="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpY6mrzo TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030122.83-184137710439150/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com", 
        "no ip domain-list eng.ansible.com"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030124-session-config\n@@ -12,8 +12,6 @@\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n-ip domain-list ansible.com\n-ip domain-list eng.ansible.com\n !\n ntp source Management1\n ntp server 0.us.pool.ntp.org\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-list ansible.com", 
                "no ip domain-list redhat.com", 
                "no ip domain-list eng.ansible.com"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030124", 
    "updates": [
        "no ip domain-list ansible.com", 
        "no ip domain-list redhat.com", 
        "no ip domain-list eng.ansible.com"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_list.yaml:132
ok: [veos01] => {
    "msg": "END eapi/set_domain_list.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:2
ok: [veos01] => {
    "msg": "START eapi/set_domain_name.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648 `" && echo ansible-tmp-1501030126.99-275734436865648="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpjH4iqI TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030126.99-275734436865648/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-name"
    ], 
    "diff": {
        "prepared": "\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-name"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030128", 
    "updates": [
        "no ip domain-name"
    ]
}

TASK [eos_system : configure domain_name] **************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:11
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904 `" && echo ansible-tmp-1501030130.75-154706520472904="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpS7JnrX TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030130.75-154706520472904/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip domain-name eng.ansible.com"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": "eng.ansible.com", 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030133"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:18
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify domain_name] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:22
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483 `" && echo ansible-tmp-1501030136.28-227302987324483="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpONc5CQ TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030136.28-227302987324483/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": "eng.ansible.com", 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:29
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:33
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712 `" && echo ansible-tmp-1501030138.65-46882685405712="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpHjoWbw TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030138.65-46882685405712/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain-name"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030139-session-config\n@@ -12,7 +12,6 @@\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n-ip domain-name eng.ansible.com\n !\n ntp source Management1\n ntp server 0.us.pool.ntp.org\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain-name"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030139", 
    "updates": [
        "no ip domain-name"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_domain_name.yaml:40
ok: [veos01] => {
    "msg": "END eapi/set_domain_name.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:2
ok: [veos01] => {
    "msg": "START eapi/set_hostname.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553 `" && echo ansible-tmp-1501030142.8-39963707717553="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpFYYpyp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030142.8-39963707717553/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname switch"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030143-session-config\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname veos01\n+hostname switch\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname switch"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030143", 
    "updates": [
        "hostname switch"
    ]
}

TASK [eos_system : configure hostname] *****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:11
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963 `" && echo ansible-tmp-1501030147.04-99744709785963="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp8WTOpN TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030147.04-99744709785963/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname foo"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": "foo", 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030148"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:18
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify hostname] ********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:22
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920 `" && echo ansible-tmp-1501030151.89-256748895111920="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp53mRy0 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030151.89-256748895111920/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": "foo", 
            "lookup_source": null, 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:29
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:33
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300 `" && echo ansible-tmp-1501030154.45-223534887889300="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpbJirRv TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030154.45-223534887889300/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "hostname veos01"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030155-session-config\n@@ -1,4 +1,4 @@\n-! device: switch (vEOS, EOS-4.15.4F)\n+! device: foo (vEOS, EOS-4.15.4F)\n !\n ! boot system flash:/vEOS-lab-4.15.4.swi\n !\n@@ -8,7 +8,7 @@\n no logging console\n logging facility syslog\n !\n-hostname foo\n+hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n ip name-server vrf default 1.1.1.1\n ip name-server vrf default 2.2.2.2\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "hostname veos01"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030155", 
    "updates": [
        "hostname veos01"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_hostname.yaml:40
ok: [veos01] => {
    "msg": "END eapi/set_hostname.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:2
ok: [veos01] => {
    "msg": "START eapi/set_lookup_source.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734 `" && echo ansible-tmp-1501030159.03-140020623281734="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpvYfcp1 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030159.03-140020623281734/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface", 
        "vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030160-session-config\n@@ -43,6 +43,8 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n+!\n+vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -118,6 +120,7 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n+no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain lookup source-interface", 
                "vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030160", 
    "updates": [
        "no ip domain lookup source-interface", 
        "vrf definition ansible"
    ]
}

TASK [eos_system : configure lookup_source] ************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:13
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334 `" && echo ansible-tmp-1501030163.49-132659859384334="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpRawUGB TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030163.49-132659859384334/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup vrf ansible source-interface Management1", 
        "ip domain lookup source-interface Management1"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                "Management1"
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030165"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:20
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify lookup_source] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:25
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540 `" && echo ansible-tmp-1501030168.44-9734202865540="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpz9TOF2 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030168.44-9734202865540/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                "Management1"
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:32
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : change to vrf] **********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:36
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217 `" && echo ansible-tmp-1501030170.69-133084893732217="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpc60G3c TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030170.69-133084893732217/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface Management1", 
        "ip domain lookup vrf ansible source-interface Management1"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                {
                    "interface": "Management1", 
                    "vrf": "ansible"
                }
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030172"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:45
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify change to vrf] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:52
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735 `" && echo ansible-tmp-1501030175.69-47033506675735="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpyjcBPx TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030175.69-47033506675735/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": [
                {
                    "interface": "Management1", 
                    "vrf": "ansible"
                }
            ], 
            "name_servers": null, 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:61
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:65
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827 `" && echo ansible-tmp-1501030177.28-216036767556827="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpPgRIUP TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030177.28-216036767556827/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030178-session-config\n@@ -43,8 +43,6 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n-!\n-vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -120,7 +118,6 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n-no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain lookup source-interface", 
                "no vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030178", 
    "updates": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_lookup_source.yaml:74
ok: [veos01] => {
    "msg": "END eapi/set_lookup_source.yaml"
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:2
ok: [veos01] => {
    "msg": "START eapi/set_name_servers.yaml"
}

TASK [eos_system : setup] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:4
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628 `" && echo ansible-tmp-1501030181.55-206814238136628="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpYfjtTb TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030181.55-206814238136628/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip name-server", 
        "vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030182-session-config\n@@ -10,8 +10,6 @@\n !\n hostname veos01\n ip domain lookup vrf ansible source-interface Management1\n-ip name-server vrf default 1.1.1.1\n-ip name-server vrf default 2.2.2.2\n !\n ntp source Management1\n ntp server 0.us.pool.ntp.org\n@@ -43,6 +41,8 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n+!\n+vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -118,6 +118,7 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n+no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip name-server", 
                "vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030182", 
    "updates": [
        "no ip name-server", 
        "vrf definition ansible"
    ]
}

TASK [eos_system : configure name_servers] *************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:13
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261 `" && echo ansible-tmp-1501030186.23-90636630213261="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpgv3CwB TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030186.23-90636630213261/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "ip name-server 1.1.1.1", 
        "ip name-server 2.2.2.2", 
        "ip name-server 3.3.3.3"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": [
                "1.1.1.1", 
                "2.2.2.2", 
                "3.3.3.3"
            ], 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030188"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:23
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : verify name_servers] ****************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:31
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447 `" && echo ansible-tmp-1501030191.94-5482910228447="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpoZ2Kym TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030191.94-5482910228447/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": [
                "1.1.1.1", 
                "2.2.2.2", 
                "3.3.3.3"
            ], 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:41
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : remove one] *************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:74
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_system.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403 `" && echo ansible-tmp-1501030194.44-169505786912403="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp0yzKHS TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403/eos_system.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403/eos_system.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403/eos_system.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030194.44-169505786912403/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip name-server 3.3.3.3"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "domain_list": null, 
            "domain_name": null, 
            "host": "veos01", 
            "hostname": null, 
            "lookup_source": null, 
            "name_servers": [
                "1.1.1.1", 
                "2.2.2.2"
            ], 
            "password": "admin", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "admin", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "admin", 
                "validate_certs": true
            }, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": 30, 
            "transport": "eapi", 
            "url_password": "admin", 
            "url_username": "admin", 
            "use_ssl": false, 
            "username": "admin", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030196"
}

TASK [eos_system : assert] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:83
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_system : teardown] ***************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:89
<veos01> connection transport is eapi
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687 `" && echo ansible-tmp-1501030200.01-263317243041687="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpgml1MW TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030200.01-263317243041687/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ], 
    "diff": {
        "prepared": "--- system:/running-config\n+++ session:/ansible_1501030201-session-config\n@@ -43,8 +43,6 @@\n vlan 4000\n    name test-vlan2\n    state suspend\n-!\n-vrf definition ansible\n !\n vrf definition mgmt\n    rd 1:101\n@@ -120,7 +118,6 @@\n ip route 172.16.44.0/24 172.26.4.1 68\n !\n no ip routing\n-no ip routing vrf ansible\n no ip routing vrf test\n no ip routing vrf mgmt\n !\n\n"
    }, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": "veos01", 
            "intended_config": null, 
            "lines": [
                "no ip domain lookup source-interface", 
                "no vrf definition ansible"
            ], 
            "match": "none", 
            "parents": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": 80, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": 80, 
                "ssh_keyfile": null, 
                "timeout": 30, 
                "transport": "eapi", 
                "use_ssl": false, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": true
            }, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": 30, 
            "transport": "cli", 
            "url_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "url_username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030201", 
    "updates": [
        "no ip domain lookup source-interface", 
        "no vrf definition ansible"
    ]
}

TASK [eos_system : debug] ******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tests/eapi/set_name_servers.yaml:98
ok: [veos01] => {
    "msg": "END eapi/set_name_servers.yaml"
}

TASK [eos_system : disable eapi] ***********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_system/tasks/eapi.yaml:25
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: 
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "unable to open shell. Please see: https://docs.ansible.com/ansible/network_debug_troubleshooting.html#unable-to-open-shell"
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:75
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner", 
            "eos_command", 
            "eos_config", 
            "eos_template", 
            "eos_system"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: 
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "unable to open shell. Please see: https://docs.ansible.com/ansible/network_debug_troubleshooting.html#unable-to-open-shell"
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:84
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner", 
            "eos_command", 
            "eos_config", 
            "eos_template", 
            "eos_system", 
            "eos_user"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409 `" && echo ansible-tmp-1501030232.34-134667878663409="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp3eb069 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030232.34-134667878663409/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030235", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997 `" && echo ansible-tmp-1501030241.9-273018747853997="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpSV4pft TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030241.9-273018747853997/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030244", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_vlan : collect all cli test cases] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tasks/cli.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325 `" && echo ansible-tmp-1501030247.68-44795160710325="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpUM5QxO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030247.68-44795160710325/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027841.0, 
            "ctime": 1500555692.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2503026, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500555692.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1587, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_vlan : set test_items] ***********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_vlan : run test case] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml for veos01

TASK [eos_vlan : setup - remove vlan] ******************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vlan.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544 `" && echo ansible-tmp-1501030253.68-63699748519544="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpqRIyEG TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544/eos_vlan.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544/eos_vlan.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544/eos_vlan.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030253.68-63699748519544/" > /dev/null 2>&1 && sleep 0'
 [WARNING]: argument username has been deprecated and will be removed in a
future version
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no vlan 4000"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test-vlan", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "ssh_keyfile": null, 
            "state": "absent", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test-vlan", 
            "validate_certs": true, 
            "vlan_id": 4000
        }
    }, 
    "session_name": "ansible_1501030256"
}

TASK [eos_vlan : Create vlan] **************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:11
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vlan.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740 `" && echo ansible-tmp-1501030262.97-53796280527740="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpiWPyoW TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740/eos_vlan.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740/eos_vlan.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740/eos_vlan.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030262.97-53796280527740/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "vlan 4000", 
        "name test-vlan"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test-vlan", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test-vlan", 
            "validate_certs": true, 
            "vlan_id": 4000
        }
    }, 
    "session_name": "ansible_1501030265"
}

TASK [eos_vlan : debug] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:20
ok: [veos01] => {
    "msg": {
        "changed": true, 
        "commands": [
            "vlan 4000", 
            "name test-vlan"
        ], 
        "failed": false, 
        "session_name": "ansible_1501030265", 
        "warnings": [
            "argument username has been deprecated and will be removed in a future version"
        ]
    }
}

TASK [eos_vlan : assert] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:23
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_vlan : Create vlan again (idempotent)] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:31
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vlan.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981 `" && echo ansible-tmp-1501030271.68-71189172891981="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpIsDydO TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981/eos_vlan.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981/eos_vlan.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981/eos_vlan.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030271.68-71189172891981/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test-vlan", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test-vlan", 
            "validate_certs": true, 
            "vlan_id": 4000
        }
    }
}

TASK [eos_vlan : assert] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:40
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_vlan : Change vlan name and state] ***********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:47
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vlan.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771 `" && echo ansible-tmp-1501030276.48-137828882399771="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpESe3LH TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771/eos_vlan.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771/eos_vlan.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771/eos_vlan.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030276.48-137828882399771/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "vlan 4000", 
        "name test-vlan2", 
        "state suspend"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test-vlan2", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "ssh_keyfile": null, 
            "state": "suspend", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test-vlan2", 
            "validate_certs": true, 
            "vlan_id": 4000
        }
    }, 
    "session_name": "ansible_1501030278"
}

TASK [eos_vlan : assert] *******************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vlan/tests/cli/basic.yaml:56
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763 `" && echo ansible-tmp-1501030285.23-65548531672763="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpDTtsnS TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030285.23-65548531672763/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030287", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282 `" && echo ansible-tmp-1501030294.51-168546541411282="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpp2SmIH TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030294.51-168546541411282/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030296", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_vrf : collect all cli test cases] ************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tasks/cli.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026 `" && echo ansible-tmp-1501030300.09-127403130432026="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpTZTZNo TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030300.09-127403130432026/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027891.0, 
            "ctime": 1500908935.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2601772, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500908935.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 2685, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_vrf : set test_items] ************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_vrf : run test case] *************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml for veos01

TASK [eos_vrf : setup - remove vrf] ********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml:3
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vrf.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748 `" && echo ansible-tmp-1501030305.8-242556814677748="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp9snnKH TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748/eos_vrf.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748/eos_vrf.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748/eos_vrf.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030305.8-242556814677748/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no vrf definition test"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "rd": null, 
            "ssh_keyfile": null, 
            "state": "absent", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030308"
}

TASK [eos_vrf : Create vrf] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vrf.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788 `" && echo ansible-tmp-1501030315.02-253426150652788="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp8fEAte TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788/eos_vrf.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788/eos_vrf.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788/eos_vrf.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030315.02-253426150652788/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "vrf definition test", 
        "rd 1:200"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "rd": "1:200", 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030317"
}

TASK [eos_vrf : assert] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml:19
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_vrf : Create vrf again (idempotent)] *********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml:27
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vrf.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503 `" && echo ansible-tmp-1501030324.16-204066558148503="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpBwVJeT TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503/eos_vrf.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503/eos_vrf.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503/eos_vrf.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030324.16-204066558148503/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "auth_pass": null, 
            "authorize": true, 
            "collection": null, 
            "host": "veos01", 
            "interfaces": null, 
            "name": "test", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "rd": "1:200", 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "test", 
            "validate_certs": true
        }
    }
}

TASK [eos_vrf : assert] ********************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml:36
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_vrf : Modify rd] *****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_vrf/tests/cli/basic.yaml:43
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_vrf.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030329.0-61571924593168 `" && echo ansible-tmp-1501030329.0-61571924593168="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030329.0-61571924593168 `" ) && sleep 0'
The full traceback is:
Traceback (most recent call last):
  File "/Users/dnewswan/code/ansible/lib/ansible/executor/task_executor.py", line 125, in run
    res = self._execute()
  File "/Users/dnewswan/code/ansible/lib/ansible/executor/task_executor.py", line 526, in _execute
    result = self._handler.run(task_vars=variables)
  File "/Users/dnewswan/code/ansible/lib/ansible/plugins/action/eos.py", line 115, in run
    result = super(ActionModule, self).run(tmp, task_vars)
  File "/Users/dnewswan/code/ansible/lib/ansible/plugins/action/normal.py", line 45, in run
    results = merge_hash(results, self._execute_module(tmp=tmp, task_vars=task_vars, wrap_async=wrap_async))
  File "/Users/dnewswan/code/ansible/lib/ansible/plugins/action/__init__.py", line 638, in _execute_module
    tmp = self._make_tmp_path()
  File "/Users/dnewswan/code/ansible/lib/ansible/plugins/action/__init__.py", line 247, in _make_tmp_path
    result = self._low_level_execute_command(cmd, sudoable=False)
  File "/Users/dnewswan/code/ansible/lib/ansible/plugins/action/__init__.py", line 898, in _low_level_execute_command
    os.chdir(cwd)
OSError: [Errno 2] No such file or directory: '/Users/dnewswan/code/go'
fatal: [veos01]: FAILED! => {
    "failed": true, 
    "msg": "Unexpected failure during module execution.", 
    "stdout": ""
}

TASK [set_fact] ****************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:102
ok: [veos01] => {
    "ansible_facts": {
        "failed_modules": [
            "eos_banner", 
            "eos_command", 
            "eos_config", 
            "eos_template", 
            "eos_system", 
            "eos_user", 
            "eos_vrf"
        ], 
        "test_failed": true
    }, 
    "changed": false, 
    "failed": false
}

TASK [prepare_eos_tests : Enable Ethernet1 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:1
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495 `" && echo ansible-tmp-1501030333.09-188016255601495="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpKJhTnr TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030333.09-188016255601495/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet1"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030335", 
    "updates": [
        "int Ethernet1", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [prepare_eos_tests : Enable Ethernet2 interface and disable switchport] ***
task path: /Users/dnewswan/code/ansible/test/integration/targets/prepare_eos_tests/tasks/main.yml:10
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_config.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440 `" && echo ansible-tmp-1501030342.38-65420176145440="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpoGiLQp TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440/eos_config.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440/eos_config.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440/eos_config.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030342.38-65420176145440/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "after": null, 
            "auth_pass": null, 
            "authorize": true, 
            "backup": false, 
            "before": null, 
            "defaults": false, 
            "diff_against": "session", 
            "diff_ignore_lines": null, 
            "force": false, 
            "host": null, 
            "intended_config": null, 
            "lines": [
                "no shutdown", 
                "no switchport"
            ], 
            "match": "line", 
            "parents": [
                "int Ethernet2"
            ], 
            "password": null, 
            "port": null, 
            "provider": null, 
            "replace": "line", 
            "running_config": null, 
            "save": false, 
            "save_when": "never", 
            "src": null, 
            "ssh_keyfile": null, 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": null, 
            "validate_certs": true
        }
    }, 
    "session": "ansible_1501030344", 
    "updates": [
        "int Ethernet2", 
        "no shutdown", 
        "no switchport"
    ]
}

TASK [eos_logging : collect all cli test cases] ********************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tasks/cli.yaml:2
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/files/find.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060 `" && echo ansible-tmp-1501030347.9-260159547746060="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpI8riQG TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060/find.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060/find.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060/find.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030347.9-260159547746060/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "examined": 1, 
    "failed": false, 
    "files": [
        {
            "atime": 1501027972.0, 
            "ctime": 1500996244.0, 
            "dev": 16777220, 
            "gid": 20, 
            "inode": 2631281, 
            "isblk": false, 
            "ischr": false, 
            "isdir": false, 
            "isfifo": false, 
            "isgid": false, 
            "islnk": false, 
            "isreg": true, 
            "issock": false, 
            "isuid": false, 
            "mode": "0644", 
            "mtime": 1500996244.0, 
            "nlink": 1, 
            "path": "/Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml", 
            "rgrp": true, 
            "roth": true, 
            "rusr": true, 
            "size": 1988, 
            "uid": 501, 
            "wgrp": false, 
            "woth": false, 
            "wusr": true, 
            "xgrp": false, 
            "xoth": false, 
            "xusr": false
        }
    ], 
    "invocation": {
        "module_args": {
            "age": null, 
            "age_stamp": "mtime", 
            "contains": null, 
            "file_type": "file", 
            "follow": false, 
            "get_checksum": false, 
            "hidden": false, 
            "paths": [
                "/Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli"
            ], 
            "patterns": [
                "*.yaml"
            ], 
            "recurse": false, 
            "size": null, 
            "use_regex": false
        }
    }, 
    "matched": 1, 
    "msg": ""
}

TASK [eos_logging : set test_items] ********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tasks/cli.yaml:8
ok: [veos01] => {
    "ansible_facts": {
        "test_items": [
            "/Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml"
        ]
    }, 
    "changed": false, 
    "failed": false
}

TASK [eos_logging : run test case] *********************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tasks/cli.yaml:11
included: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml for veos01

TASK [eos_logging : Set up host logging] ***************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:2
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/basic.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/eos.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/_text.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/parsing/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/pycompat24.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/__init__.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/six/_six.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/connection.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/network_common.py
Using module_utils file /Users/dnewswan/code/ansible/lib/ansible/module_utils/urls.py
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246 `" && echo ansible-tmp-1501030352.99-5076297044246="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmprRNc1z TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030352.99-5076297044246/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "logging host 172.16.0.1"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": null, 
            "auth_pass": null, 
            "authorize": true, 
            "dest": "host", 
            "facility": null, 
            "host": "veos01", 
            "level": null, 
            "name": "172.16.0.1", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": null, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "172.16.0.1", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030355"
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:11
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_logging : Set up host logging again (idempotent)] ********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:16
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544 `" && echo ansible-tmp-1501030361.75-71438905582544="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpejOqoS TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030361.75-71438905582544/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": null, 
            "auth_pass": null, 
            "authorize": true, 
            "dest": "host", 
            "facility": null, 
            "host": "veos01", 
            "level": null, 
            "name": "172.16.0.1", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": null, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "172.16.0.1", 
            "validate_certs": true
        }
    }
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:25
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_logging : Delete/disable host logging] *******************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:29
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517 `" && echo ansible-tmp-1501030367.0-129189808744517="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp4f78pN TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030367.0-129189808744517/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no logging host 172.16.0.1"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": null, 
            "auth_pass": null, 
            "authorize": true, 
            "dest": "host", 
            "facility": null, 
            "host": "veos01", 
            "level": null, 
            "name": "172.16.0.1", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": null, 
            "ssh_keyfile": null, 
            "state": "absent", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "172.16.0.1", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030368"
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:38
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_logging : Delete/disable host logging (idempotent)] ******************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:43
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706 `" && echo ansible-tmp-1501030374.73-49113926864706="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpRn3snL TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030374.73-49113926864706/" > /dev/null 2>&1 && sleep 0'
ok: [veos01] => {
    "changed": false, 
    "commands": [], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": null, 
            "auth_pass": null, 
            "authorize": true, 
            "dest": "host", 
            "facility": null, 
            "host": "veos01", 
            "level": null, 
            "name": "172.16.0.1", 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": null, 
            "ssh_keyfile": null, 
            "state": "absent", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "172.16.0.1", 
            "validate_certs": true
        }
    }
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:52
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_logging : Console logging with level warnings] ***********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:56
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898 `" && echo ansible-tmp-1501030380.08-163188819481898="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpQeKqMP TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030380.08-163188819481898/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "logging console warnings"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": null, 
            "auth_pass": null, 
            "authorize": true, 
            "dest": "console", 
            "facility": null, 
            "host": "veos01", 
            "level": "warnings", 
            "name": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": null, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030381"
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:65
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_logging : Configure buffer size] *************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:70
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035 `" && echo ansible-tmp-1501030388.13-56837559230035="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmpfXI871 TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030388.13-56837559230035/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "logging buffered 480000"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": null, 
            "auth_pass": null, 
            "authorize": true, 
            "dest": "buffered", 
            "facility": null, 
            "host": "veos01", 
            "level": null, 
            "name": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": 480000, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030389"
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:78
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [eos_logging : remove logging as collection tearDown] *********************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:83
<veos01> connection transport is cli
<veos01> using connection plugin network_cli
<veos01> socket_path: /Users/dnewswan/.ansible/pc/9264e37bd0
Using module file /Users/dnewswan/code/ansible/lib/ansible/modules/network/eos/eos_logging.py
<veos01> ESTABLISH LOCAL CONNECTION FOR USER: dnewswan
<veos01> EXEC /bin/sh -c 'echo ~ && sleep 0'
<veos01> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321 `" && echo ansible-tmp-1501030396.06-161248692605321="` echo /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321 `" ) && sleep 0'
<veos01> PUT /var/folders/ql/d9_087wj4cd10grvwzxmk4hc0000gn/T/tmp5Cbekv TO /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321/eos_logging.py
<veos01> EXEC /bin/sh -c 'chmod u+x /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321/ /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321/eos_logging.py && sleep 0'
<veos01> EXEC /bin/sh -c 'python /Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321/eos_logging.py; rm -rf "/Users/dnewswan/.ansible/tmp/ansible-tmp-1501030396.06-161248692605321/" > /dev/null 2>&1 && sleep 0'
changed: [veos01] => {
    "changed": true, 
    "commands": [
        "no logging console", 
        "no logging buffered"
    ], 
    "failed": false, 
    "invocation": {
        "module_args": {
            "aggregate": [
                {
                    "dest": "console", 
                    "level": "warnings", 
                    "state": "absent"
                }, 
                {
                    "dest": "buffered", 
                    "size": 480000, 
                    "state": "absent"
                }
            ], 
            "auth_pass": null, 
            "authorize": true, 
            "dest": null, 
            "facility": null, 
            "host": "veos01", 
            "level": null, 
            "name": null, 
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "port": null, 
            "provider": {
                "auth_pass": null, 
                "authorize": true, 
                "host": "veos01", 
                "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "port": null, 
                "ssh_keyfile": null, 
                "timeout": null, 
                "transport": "cli", 
                "use_ssl": null, 
                "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
                "validate_certs": null
            }, 
            "purge": false, 
            "size": null, 
            "ssh_keyfile": null, 
            "state": "present", 
            "timeout": null, 
            "transport": "cli", 
            "use_ssl": true, 
            "username": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "validate_certs": true
        }
    }, 
    "session_name": "ansible_1501030397"
}

TASK [eos_logging : assert] ****************************************************
task path: /Users/dnewswan/code/ansible/test/integration/targets/eos_logging/tests/cli/basic.yaml:92
ok: [veos01] => {
    "changed": false, 
    "failed": false, 
    "msg": "All assertions passed"
}

TASK [debug] *******************************************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:118
ok: [veos01] => {
    "failed_modules": [
        "eos_banner", 
        "eos_command", 
        "eos_config", 
        "eos_template", 
        "eos_system", 
        "eos_user", 
        "eos_vrf"
    ]
}

TASK [Has any previous test failed?] *******************************************
task path: /Users/dnewswan/code/ansible/test/integration/eos.yaml:121
fatal: [veos01]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "msg": "One or more tests failed, check log for details"
}

PLAY RECAP *********************************************************************
veos01                     : ok=498  changed=123  unreachable=0    failed=8   

